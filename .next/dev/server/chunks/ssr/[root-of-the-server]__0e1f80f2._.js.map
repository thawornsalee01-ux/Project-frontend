{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/documents/page.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function RagDocumentList() {\r\n  const [docs, setDocs] = useState([]);\r\n\r\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n  const fetchDocuments = async () => {\r\n    const res = await axios.get(\"http://localhost:8000/rag/documents\");\r\n    setDocs(res.data.documents);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n  const handleDelete = async (docKey) => {\r\n    if (!window.confirm(`‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ \"${docKey}\" ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?`)) return;\r\n\r\n    try {\r\n      const res = await axios.delete(\"http://localhost:8000/rag/delete\", {\r\n        data: { document_key: docKey },\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      alert(res.data.message);\r\n      fetchDocuments(); // ‡πÇ‡∏´‡∏•‡∏î‡∏•‡∏¥‡∏™‡∏ï‡πå‡πÉ‡∏´‡∏°‡πà\r\n    } catch (err) {\r\n      alert(err.response?.data?.detail || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>üìö ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏ô ChromaDB</h2>\r\n\r\n      {docs.length === 0 ? (\r\n        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</p>\r\n      ) : (\r\n        <table border=\"1\" cellPadding=\"8\">\r\n          <thead>\r\n            <tr>\r\n              <th>‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå</th>\r\n              <th>Document Key</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {docs.map((d) => (\r\n              <tr key={d.document_key}>\r\n                <td>{d.document_name}</td>\r\n                <td>{d.document_key}</td>\r\n                <td>\r\n                  <button onClick={() => handleDelete(d.document_key)}>‚ùå ‡∏•‡∏ö</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAEnC,0BAA0B;IAC1B,MAAM,iBAAiB;QACrB,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC;QAC5B,QAAQ,IAAI,IAAI,CAAC,SAAS;IAC5B;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,mBAAmB;IACnB,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO,OAAO,CAAC,CAAC,iBAAiB,EAAE,OAAO,SAAS,CAAC,GAAG;QAE5D,IAAI;YACF,MAAM,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC,oCAAoC;gBACjE,MAAM;oBAAE,cAAc;gBAAO;gBAC7B,SAAS;oBAAE,gBAAgB;gBAAmB;YAChD;YACA,MAAM,IAAI,IAAI,CAAC,OAAO;YACtB,kBAAkB,gBAAgB;QACpC,EAAE,OAAO,KAAK;YACZ,MAAM,IAAI,QAAQ,EAAE,MAAM,UAAU;QACtC;IACF;IAEA,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACxB,8OAAC;0BAAG;;;;;;YAEH,KAAK,MAAM,KAAK,kBACf,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAM,QAAO;gBAAI,aAAY;;kCAC5B,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;kCAGR,8OAAC;kCACE,KAAK,GAAG,CAAC,CAAC,kBACT,8OAAC;;kDACC,8OAAC;kDAAI,EAAE,aAAa;;;;;;kDACpB,8OAAC;kDAAI,EAAE,YAAY;;;;;;kDACnB,8OAAC;kDACC,cAAA,8OAAC;4CAAO,SAAS,IAAM,aAAa,EAAE,YAAY;sDAAG;;;;;;;;;;;;+BAJhD,EAAE,YAAY;;;;;;;;;;;;;;;;;;;;;;AAarC"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/history/page.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import Link from \"next/link\";\r\n// import {\r\n//   ClockIcon,\r\n//   DocumentMagnifyingGlassIcon,\r\n//   ArrowPathIcon,\r\n//   ExclamationTriangleIcon,\r\n//   ChevronRightIcon,\r\n//   ChevronLeftIcon,\r\n//   DocumentTextIcon,\r\n// } from \"@heroicons/react/24/outline\";\r\n\r\n// type ComparisonItem = {\r\n//   id: number;\r\n//   document_name: string;\r\n//   version_old_label: string;\r\n//   version_new_label: string;\r\n//   created_at: string;\r\n//   overall_risk_level?: string | null;\r\n// };\r\n\r\n// type ChangeType = \"ADDED\" | \"REMOVED\" | \"MODIFIED\";\r\n\r\n// type ChangeItem = {\r\n//   id: number;\r\n//   change_type: ChangeType;\r\n//   section_label: string | null;\r\n//   old_text: string | null;\r\n//   new_text: string | null;\r\n//   risk_level?: \"LOW\" | \"MEDIUM\" | \"HIGH\" | null;\r\n//   ai_comment?: string | null;\r\n//   ai_suggestion?: string | null;\r\n// };\r\n\r\n// type ComparisonDetail = {\r\n//   id: number;\r\n//   document_name: string;\r\n//   version_old_label: string;\r\n//   version_new_label: string;\r\n//   created_at: string;\r\n//   overall_risk_level?: string | null;\r\n//   summary_text?: string | null;\r\n//   changes: ChangeItem[];\r\n// };\r\n\r\n// // --- helper UI ---\r\n\r\n// const riskBadge = (risk?: string | null) => {\r\n//   const base =\r\n//     \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold border\";\r\n//   const level = (risk || \"LOW\").toUpperCase();\r\n\r\n//   if (level === \"HIGH\") {\r\n//     return (\r\n//       <span className={`${base} bg-red-100 text-red-700 border-red-200`}>\r\n//         HIGH\r\n//       </span>\r\n//     );\r\n//   }\r\n//   if (level === \"MEDIUM\") {\r\n//     return (\r\n//       <span className={`${base} bg-amber-100 text-amber-700 border-amber-200`}>\r\n//         MEDIUM\r\n//       </span>\r\n//     );\r\n//   }\r\n//   return (\r\n//     <span\r\n//       className={`${base} bg-emerald-100 text-emerald-700 border-emerald-200`}\r\n//     >\r\n//       LOW\r\n//     </span>\r\n//   );\r\n// };\r\n\r\n// const changeTypeBadge = (t: ChangeType) => {\r\n//   const base =\r\n//     \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-semibold\";\r\n//   if (t === \"ADDED\") {\r\n//     return (\r\n//       <span className={`${base} bg-emerald-100 text-emerald-700`}>Ôºã ADDED</span>\r\n//     );\r\n//   }\r\n//   if (t === \"REMOVED\") {\r\n//     return (\r\n//       <span className={`${base} bg-rose-100 text-rose-700`}>‚àí REMOVED</span>\r\n//     );\r\n//   }\r\n//   return (\r\n//     <span className={`${base} bg-amber-100 text-amber-700`}>MODIFIED</span>\r\n//   );\r\n// };\r\n\r\n// const formatDateTime = (iso: string) => {\r\n//   try {\r\n//     const d = new Date(iso);\r\n//     return d.toLocaleString(\"th-TH\", {\r\n//       year: \"numeric\",\r\n//       month: \"short\",\r\n//       day: \"2-digit\",\r\n//       hour: \"2-digit\",\r\n//       minute: \"2-digit\",\r\n//     });\r\n//   } catch {\r\n//     return iso;\r\n//   }\r\n// };\r\n\r\n// const truncate = (text: string | null | undefined, len = 180) => {\r\n//   if (!text) return \"\";\r\n//   return text.length > len ? text.slice(0, len) + \"...\" : text;\r\n// };\r\n\r\n// const API_BASE = \"http://127.0.0.1:8000\";\r\n\r\n// // üÜï AI Comment box (left column)\r\n// function AiCommentBox({ comment }: { comment?: string | null }) {\r\n//   return (\r\n//     <div className=\"rounded-lg border border-slate-100 bg-white/80 p-3 min-h-[64px]\">\r\n//       <div className=\"text-[11px] font-semibold text-slate-600 mb-1\">\r\n//         AI Comment\r\n//       </div>\r\n//       <div className=\"text-[12px] text-slate-800 whitespace-pre-wrap min-h-[44px]\">\r\n//         {comment ? (\r\n//           comment\r\n//         ) : (\r\n//           <span className=\"text-slate-400\">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏≤‡∏Å AI</span>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// // üÜï AI Suggestion box (right column)\r\n// function AiSuggestionBox({ suggestion }: { suggestion?: string | null }) {\r\n//   return (\r\n//     <div className=\"rounded-lg border border-slate-100 bg-gradient-to-r from-white to-slate-50 p-3 min-h-[64px]\">\r\n//       <div className=\"flex items-start gap-3\">\r\n//         <div className=\"flex-shrink-0\">\r\n//           <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-indigo-700 font-semibold text-sm\">\r\n//             AI\r\n//           </span>\r\n//         </div>\r\n//         <div className=\"min-w-0\">\r\n//           <div className=\"text-[11px] font-semibold text-slate-600\">\r\n//             AI Suggestion\r\n//           </div>\r\n//           <div className=\"mt-1 text-[12px] text-slate-800 whitespace-pre-wrap min-h-[44px]\">\r\n//             {suggestion ? (\r\n//               suggestion\r\n//             ) : (\r\n//               <span className=\"text-slate-400\">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å AI</span>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default function HistoryPage() {\r\n//   const [items, setItems] = useState<ComparisonItem[]>([]);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [error, setError] = useState<string | null>(null);\r\n\r\n//   const [selectedId, setSelectedId] = useState<number | null>(null);\r\n//   const [detail, setDetail] = useState<ComparisonDetail | null>(null);\r\n//   const [detailLoading, setDetailLoading] = useState(false);\r\n//   const [detailError, setDetailError] = useState<string | null>(null);\r\n\r\n//   // üÜï state ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å AI annotate\r\n//   const [annotating, setAnnotating] = useState(false);\r\n//   const [annotateError, setAnnotateError] = useState<string | null>(null);\r\n\r\n//   // ‡πÇ‡∏´‡∏•‡∏î list ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å\r\n//   useEffect(() => {\r\n//     const fetchList = async () => {\r\n//       setLoading(true);\r\n//       setError(null);\r\n//       try {\r\n//         const res = await fetch(`${API_BASE}/comparisons?limit=50`);\r\n//         if (!res.ok) {\r\n//           const data = await res.json().catch(() => ({}));\r\n//           throw new Error(\r\n//             data.detail || `‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (status ${res.status})`\r\n//           );\r\n//         }\r\n//         const data: ComparisonItem[] = await res.json();\r\n//         setItems(data);\r\n//         if (data.length > 0) {\r\n//           setSelectedId(data[0].id);\r\n//         }\r\n//       } catch (err: any) {\r\n//         setError(err.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\");\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchList();\r\n//   }, []);\r\n\r\n//   // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î detail ‡πÅ‡∏¢‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠ reuse ‡∏´‡∏•‡∏±‡∏á annotate\r\n//   const loadDetail = async (id: number) => {\r\n//     setDetailLoading(true);\r\n//     setDetailError(null);\r\n//     try {\r\n//       const res = await fetch(`${API_BASE}/comparisons/${id}`);\r\n//       if (!res.ok) {\r\n//         const data = await res.json().catch(() => ({}));\r\n//         throw new Error(\r\n//           data.detail || `‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (status ${res.status})`\r\n//         );\r\n//       }\r\n//       const data: ComparisonDetail = await res.json();\r\n//       setDetail(data);\r\n//     } catch (err: any) {\r\n//       setDetailError(err.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\");\r\n//       setDetail(null);\r\n//     } finally {\r\n//       setDetailLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // ‡πÇ‡∏´‡∏•‡∏î detail ‡πÄ‡∏°‡∏∑‡πà‡∏≠ selectedId ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô\r\n//   useEffect(() => {\r\n//     if (!selectedId) {\r\n//       setDetail(null);\r\n//       return;\r\n//     }\r\n//     loadDetail(selectedId);\r\n//   }, [selectedId]);\r\n\r\n//   // üÜï ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å /annotate ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÇ‡∏´‡∏•‡∏î detail)\r\n//   const handleAnnotate = async () => {\r\n//     if (!selectedId) return;\r\n//     setAnnotating(true);\r\n//     setAnnotateError(null);\r\n//     try {\r\n//       const res = await fetch(\r\n//         `${API_BASE}/comparisons/${selectedId}/annotate`,\r\n//         {\r\n//           method: \"POST\",\r\n//           headers: {\r\n//             Accept: \"application/json\",\r\n//           },\r\n//         }\r\n//       );\r\n//       if (!res.ok) {\r\n//         const data = await res.json().catch(() => ({}));\r\n//         throw new Error(\r\n//           data.detail ||\r\n//             `‡πÄ‡∏£‡∏µ‡∏¢‡∏Å AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (status ${res.status})`\r\n//         );\r\n//       }\r\n\r\n//       // reload detail ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á ai_comment ‡πÅ‡∏•‡∏∞ ai_suggestion ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î\r\n//       await loadDetail(selectedId);\r\n//     } catch (err: any) {\r\n//       setAnnotateError(\r\n//         err.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á\"\r\n//       );\r\n//     } finally {\r\n//       setAnnotating(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <main className=\"min-h-screen bg-gradient-to-br from-[#f6e9ff] via-[#f7f0ff] to-[#e3d4ff] flex items-center justify-center px-4 py-8\">\r\n//       <div className=\"w-full max-w-6xl\">\r\n//         <div className=\"relative overflow-hidden rounded-3xl bg-white/80 shadow-2xl border border-white/60 backdrop-blur-md\">\r\n//           {/* bubble decoration */}\r\n//           <div className=\"pointer-events-none absolute -right-24 -top-24 h-64 w-64 rounded-full bg-fuchsia-300/20 blur-3xl\" />\r\n//           <div className=\"pointer-events-none absolute -left-24 -bottom-32 h-72 w-72 rounded-full bg-violet-300/20 blur-3xl\" />\r\n\r\n//           {/* gradient bar */}\r\n//           <div className=\"h-2 w-full bg-gradient-to-r from-violet-500 via-fuchsia-400 to-pink-400\" />\r\n\r\n//           <div className=\"relative z-10 p-6 md:p-8 space-y-6\">\r\n//             {/* header */}\r\n//             <div className=\"flex items-center justify-between gap-3 flex-wrap\">\r\n//               <div className=\"flex items-center gap-3\">\r\n//                 <div className=\"inline-flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-tr from-violet-500 via-fuchsia-500 to-pink-400 text-white shadow-lg\">\r\n//                   <ClockIcon className=\"h-6 w-6\" />\r\n//                 </div>\r\n//                 <div>\r\n//                   <p className=\"inline-flex items-center gap-2 rounded-full bg-violet-50 px-3 py-1 text-xs font-medium text-violet-700 border border-violet-100 mb-1\">\r\n//                     <span className=\"inline-flex h-4 w-4 items-center justify-center rounded-full bg-violet-600 text-[9px] text-white\">\r\n//                       AI\r\n//                     </span>\r\n//                     Document Compare History\r\n//                   </p>\r\n//                   <h1 className=\"text-xl md:text-2xl font-bold text-slate-900 flex items-center gap-2\">\r\n//                     ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n//                   </h1>\r\n//                   <p className=\"text-xs md:text-sm text-slate-600\">\r\n//                     ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å run ‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à\r\n//                     ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\r\n//                   </p>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <Link\r\n//                 href=\"/\"\r\n//                 className=\"inline-flex items-center gap-1.5 rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm hover:bg-slate-50\"\r\n//               >\r\n//                 <ChevronLeftIcon className=\"h-4 w-4 text-slate-500\" />\r\n//                 ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\r\n//               </Link>\r\n//             </div>\r\n\r\n//             {/* main grid */}\r\n//             <div className=\"grid gap-6 md:grid-cols-[minmax(0,1.1fr)_minmax(0,1.4fr)]\">\r\n//               {/* left: list */}\r\n//               <section className=\"rounded-2xl border border-slate-100 bg-white/95 shadow-sm p-4 space-y-3\">\r\n//                 <div className=\"flex items-center justify-between gap-2 mb-1\">\r\n//                   <p className=\"text-xs font-semibold text-slate-900 flex items-center gap-1.5\">\r\n//                     <DocumentMagnifyingGlassIcon className=\"h-4 w-4 text-violet-500\" />\r\n//                     ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î\r\n//                   </p>\r\n//                   <span className=\"text-[11px] text-slate-400\">\r\n//                     ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î {items.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n//                   </span>\r\n//                 </div>\r\n\r\n//                 {loading ? (\r\n//                   <div className=\"flex items-center justify-center gap-2 py-10 text-xs text-slate-500\">\r\n//                     <ArrowPathIcon className=\"h-4 w-4 animate-spin text-violet-500\" />\r\n//                     ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£...\r\n//                   </div>\r\n//                 ) : error ? (\r\n//                   <div className=\"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/80 px-3 py-2.5 text-xs text-red-700\">\r\n//                     <ExclamationTriangleIcon className=\"mt-0.5 h-4 w-4\" />\r\n//                     <p>{error}</p>\r\n//                   </div>\r\n//                 ) : items.length === 0 ? (\r\n//                   <p className=\"text-xs text-slate-500 py-4\">\r\n//                     ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö ‡∏•‡∏≠‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡πÅ‡∏•‡πâ‡∏ß\r\n//                     ‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏±‡∏Å‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô\r\n//                   </p>\r\n//                 ) : (\r\n//                   <div className=\"space-y-2 max-h-[420px] overflow-auto pr-1\">\r\n//                     {items.map((it) => (\r\n//                       <button\r\n//                         key={it.id}\r\n//                         type=\"button\"\r\n//                         onClick={() => setSelectedId(it.id)}\r\n//                         className={`w-full text-left rounded-xl border px-3 py-2.5 text-xs transition-all flex items-center justify-between gap-2 ${\r\n//                           selectedId === it.id\r\n//                             ? \"border-violet-300 bg-violet-50 shadow-sm\"\r\n//                             : \"border-slate-100 bg-slate-50/70 hover:bg-slate-100\"\r\n//                         }`}\r\n//                       >\r\n//                         <div className=\"flex-1 min-w-0\">\r\n//                           <p className=\"font-semibold text-slate-900 truncate flex items-center gap-1.5\">\r\n//                             {it.document_name}\r\n//                           </p>\r\n//                           <p className=\"text-[11px] text-slate-500 flex items-center gap-1.5\">\r\n//                             <span className=\"inline-flex h-4 w-4 items-center justify-center rounded-full bg-violet-100 text-[9px] text-violet-700\">\r\n//                               v1\r\n//                             </span>\r\n//                             {it.version_old_label}\r\n//                             <span className=\"text-slate-400\">‚Üí</span>\r\n//                             <span className=\"inline-flex h-4 w-4 items-center justify-center rounded-full bg-fuchsia-100 text-[9px] text-fuchsia-700\">\r\n//                               v2\r\n//                             </span>\r\n//                             {it.version_new_label}\r\n//                           </p>\r\n//                           <p className=\"text-[11px] text-slate-400\">\r\n//                             {formatDateTime(it.created_at)}\r\n//                           </p>\r\n//                         </div>\r\n//                         <div className=\"flex flex-col items-end gap-1\">\r\n//                           {riskBadge(it.overall_risk_level)}\r\n//                           <ChevronRightIcon className=\"h-3.5 w-3.5 text-slate-300\" />\r\n//                         </div>\r\n//                       </button>\r\n//                     ))}\r\n//                   </div>\r\n//                 )}\r\n//               </section>\r\n\r\n//               {/* right: detail */}\r\n//               <section className=\"rounded-2xl border border-slate-100 bg-white/95 shadow-sm p-4 md:p-5 space-y-4 min-h-[260px]\">\r\n//                 {!selectedId ? (\r\n//                   <div className=\"flex h-full items-center justify-center text-xs text-slate-500\">\r\n//                     ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å run ‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\r\n//                   </div>\r\n//                 ) : detailLoading ? (\r\n//                   <div className=\"flex h-full items-center justify-center gap-2 text-xs text-slate-500\">\r\n//                     <ArrowPathIcon className=\"h-4 w-4 animate-spin text-violet-500\" />\r\n//                     ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î...\r\n//                   </div>\r\n//                 ) : detailError ? (\r\n//                   <div className=\"flex items-start gap-2 rounded-2xl border border-red-200 bg-red-50/80 px-3 py-2.5 text-xs text-red-700\">\r\n//                     <ExclamationTriangleIcon className=\"mt-0.5 h-4 w-4\" />\r\n//                     <p>{detailError}</p>\r\n//                   </div>\r\n//                 ) : !detail ? (\r\n//                   <p className=\"text-xs text-slate-500\">\r\n//                     ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á run ‡∏ô‡∏µ‡πâ\r\n//                   </p>\r\n//                 ) : (\r\n//                   <>\r\n//                     {/* header detail */}\r\n//                     <div className=\"flex items-start justify-between gap-3\">\r\n//                       <div className=\"space-y-1\">\r\n//                         <p className=\"text-xs font-semibold text-slate-900 flex items-center gap-1.5\">\r\n//                           <DocumentTextIcon className=\"h-4 w-4 text-violet-500\" />\r\n//                           ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á\r\n//                         </p>\r\n//                         <p className=\"text-sm font-semibold text-slate-900\">\r\n//                           {detail.document_name}\r\n//                         </p>\r\n//                         <p className=\"text-[11px] text-slate-500 flex items-center gap-1.5\">\r\n//                           ‡∏à‡∏≤‡∏Å{\" \"}\r\n//                           <span className=\"font-medium text-violet-700\">\r\n//                             {detail.version_old_label}\r\n//                           </span>{\" \"}\r\n//                           ‚Üí{\" \"}\r\n//                           <span className=\"font-medium text-fuchsia-700\">\r\n//                             {detail.version_new_label}\r\n//                           </span>\r\n//                           <span className=\"text-slate-400\">‚Ä¢</span>\r\n//                           {formatDateTime(detail.created_at)}\r\n//                         </p>\r\n//                       </div>\r\n//                       <div className=\"flex flex-col items-end gap-2\">\r\n//                         {/* ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå */}\r\n//                         <button\r\n//                           type=\"button\"\r\n//                           onClick={handleAnnotate}\r\n//                           disabled={annotating}\r\n//                           className=\"inline-flex items-center gap-1.5 rounded-full border border-violet-200 bg-violet-50 px-3 py-1.5 text-[11px] font-medium text-violet-700 hover:bg-violet-100 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n//                         >\r\n//                           {annotating ? (\r\n//                             <>\r\n//                               <ArrowPathIcon className=\"h-3.5 w-3.5 animate-spin\" />\r\n//                               ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...\r\n//                             </>\r\n//                           ) : (\r\n//                             <>‡πÉ‡∏´‡πâ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</>\r\n//                           )}\r\n//                         </button>\r\n\r\n//                         <div className=\"flex flex-col items-end gap-0.5\">\r\n//                           <span className=\"text-[11px] text-slate-400\">\r\n//                             Overall Risk\r\n//                           </span>\r\n//                           {riskBadge(detail.overall_risk_level)}\r\n//                         </div>\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     {/* ‡πÅ‡∏™‡∏î‡∏á error ‡∏à‡∏≤‡∏Å AI ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ */}\r\n//                     {annotateError && (\r\n//                       <div className=\"text-[11px] text-red-700 bg-red-50 border border-red-200 px-3 py-2 rounded-lg\">\r\n//                         {annotateError}\r\n//                       </div>\r\n//                     )}\r\n\r\n//                     {/* summary text */}\r\n//                     <div className=\"space-y-1.5\">\r\n//                       <p className=\"text-xs font-semibold text-slate-800\">\r\n//                         ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≤‡∏Å AI\r\n//                       </p>\r\n//                       <div className=\"rounded-xl border border-slate-100 bg-slate-50/80 px-3 py-2.5 max-h-40 overflow-auto text-xs text-slate-700 whitespace-pre-wrap\">\r\n//                         {detail.summary_text ||\r\n//                           \"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ô‡∏µ‡πâ\"}\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     {/* changes list */}\r\n//                     <div className=\"space-y-2\">\r\n//                       <div className=\"flex items-center justify-between gap-2\">\r\n//                         <p className=\"text-xs font-semibold text-slate-900\">\r\n//                           ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á ({detail.changes.length})\r\n//                         </p>\r\n//                         <span className=\"text-[11px] text-slate-400\">\r\n//                           ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡πà‡∏≠ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà diff ‡πÄ‡∏ï‡πá‡∏°)\r\n//                         </span>\r\n//                       </div>\r\n\r\n//                       {detail.changes.length === 0 ? (\r\n//                         <p className=\"text-[11px] text-slate-500\">\r\n//                           ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô run ‡∏ô‡∏µ‡πâ\r\n//                         </p>\r\n//                       ) : (\r\n//                         <div className=\"space-y-2 max-h-[280px] overflow-auto pr-1\">\r\n//                           {detail.changes.map((c) => (\r\n//                             <div\r\n//                               key={c.id}\r\n//                               className=\"rounded-xl border border-slate-100 bg-slate-50/70 px-3 py-2.5 text-xs space-y-3\"\r\n//                             >\r\n//                               <div className=\"flex items-center justify-between gap-2\">\r\n//                                 <div className=\"flex items-center gap-2\">\r\n//                                   {changeTypeBadge(c.change_type)}\r\n//                                   <span className=\"text-[11px] text-slate-500\">\r\n//                                     {c.section_label || \"-\"}\r\n//                                   </span>\r\n//                                 </div>\r\n//                                 {riskBadge(c.risk_level)}\r\n//                               </div>\r\n\r\n//                               <div className=\"grid gap-2 md:grid-cols-2\">\r\n//                                 <div>\r\n//                                   <p className=\"text-[11px] font-semibold text-slate-500 mb-0.5\">\r\n//                                     Old Text\r\n//                                   </p>\r\n//                                   <p className=\"rounded-md bg-rose-50/80 text-rose-900 px-2 py-1 whitespace-pre-wrap line-through\">\r\n//                                     {truncate(c.old_text)}\r\n//                                   </p>\r\n//                                 </div>\r\n//                                 <div>\r\n//                                   <p className=\"text-[11px] font-semibold text-slate-500 mb-0.5\">\r\n//                                     New Text\r\n//                                   </p>\r\n//                                   <p className=\"rounded-md bg-emerald-50/80 text-emerald-900 px-2 py-1 whitespace-pre-wrap\">\r\n//                                     {truncate(c.new_text)}\r\n//                                   </p>\r\n//                                 </div>\r\n//                               </div>\r\n\r\n//                               {/* --- ‡πÅ‡∏¢‡∏Å 2 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå: AI Comment | AI Suggestion --- */}\r\n//                            <div className=\"mt-1 grid gap-3 md:grid-cols-2\">\r\n//                                 <AiCommentBox comment={c.ai_comment} />\r\n//                               <AiSuggestionBox\r\n//                            suggestion={\r\n//                               c.ai_suggestion\r\n//                              ? c.ai_suggestion\r\n//                             : \"AI ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ\"} />\r\n//                               </div>\r\n//                             </div>\r\n//                           ))}\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </>\r\n//                 )}\r\n//               </section>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </main>\r\n//   );\r\n// }\r\n\r\n// app/history/page.tsx\r\n\"use client\";\r\n\r\nimport React, { useEffect, useState, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  ClockIcon,\r\n  DocumentMagnifyingGlassIcon,\r\n  ArrowPathIcon,\r\n  ExclamationTriangleIcon,\r\n  EyeIcon,\r\n  TrashIcon,\r\n  FunnelIcon,\r\n  MagnifyingGlassIcon,\r\n  ArrowDownIcon,\r\n  ArrowUpIcon,\r\n  ChartBarIcon,\r\n  DocumentArrowDownIcon,\r\n  TagIcon,\r\n  CalendarIcon,\r\n  ChevronUpDownIcon\r\n} from \"@heroicons/react/24/outline\";\r\n\r\ntype ComparisonItem = {\r\n  id: number;\r\n  document_name: string;\r\n  version_old_label: string;\r\n  version_new_label: string;\r\n  created_at: string;\r\n  overall_risk_level?: string | null;\r\n  changes_count?: number;\r\n};\r\n\r\nconst API_BASE = \"http://127.0.0.1:8000\";\r\n\r\ntype SortField = \"name\" | \"date\" | \"risk\" | \"changes\";\r\ntype SortDirection = \"asc\" | \"desc\";\r\ntype DateFilter = \"ALL\" | \"TODAY\" | \"WEEK\" | \"MONTH\";\r\n\r\nexport default function HistoryPage() {\r\n  // Core states\r\n  const [items, setItems] = useState<ComparisonItem[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [deletingId, setDeletingId] = useState<number | null>(null);\r\n\r\n  // üîç Search & Filter states\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterRisk, setFilterRisk] = useState<string>(\"ALL\");\r\n  const [filterDateRange, setFilterDateRange] = useState<DateFilter>(\"ALL\");\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  // üìä Sorting states\r\n  const [sortField, setSortField] = useState<SortField>(\"date\");\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>(\"desc\");\r\n\r\n  // üóëÔ∏è Bulk operations\r\n  const [selectedItems, setSelectedItems] = useState<number[]>([]);\r\n\r\n  // üìà Statistics\r\n  const stats = useMemo(() => {\r\n    const now = new Date();\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n\r\n    return {\r\n      total: items.length,\r\n      highRisk: items.filter(i => i.overall_risk_level === \"HIGH\").length,\r\n      mediumRisk: items.filter(i => i.overall_risk_level === \"MEDIUM\").length,\r\n      lowRisk: items.filter(i => i.overall_risk_level === \"LOW\").length,\r\n      today: items.filter(i => new Date(i.created_at) >= today).length,\r\n      thisWeek: items.filter(i => new Date(i.created_at) >= weekAgo).length,\r\n      thisMonth: items.filter(i => new Date(i.created_at) >= monthAgo).length\r\n    };\r\n  }, [items]);\r\n\r\n  // üîÑ Load data\r\n  useEffect(() => {\r\n    fetchList();\r\n  }, []);\r\n\r\n  const fetchList = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons?limit=100`);\r\n      if (!res.ok) {\r\n        const errData = await res.json().catch(() => ({}));\r\n        throw new Error(\r\n          errData.detail || \r\n          `‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ (‡∏£‡∏´‡∏±‡∏™ ${res.status}). \r\n          ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ API server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà ${API_BASE}`\r\n        );\r\n      }\r\n      const data: ComparisonItem[] = await res.json();\r\n      setItems(data);\r\n    } catch (err: any) {\r\n      console.error(\"Fetch error:\", err);\r\n      setError(err.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // üîç Filter and sort items\r\n  const filteredAndSortedItems = useMemo(() => {\r\n    let filtered = items.filter(item => {\r\n      // Search filter\r\n      if (searchTerm && !item.document_name.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n        return false;\r\n      }\r\n      \r\n      // Risk filter\r\n      if (filterRisk !== \"ALL\" && item.overall_risk_level !== filterRisk) {\r\n        return false;\r\n      }\r\n      \r\n      // Date filter\r\n      if (filterDateRange !== \"ALL\") {\r\n        const itemDate = new Date(item.created_at);\r\n        const now = new Date();\r\n        const diffTime = now.getTime() - itemDate.getTime();\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        \r\n        if (filterDateRange === \"TODAY\" && diffDays > 0) return false;\r\n        if (filterDateRange === \"WEEK\" && diffDays > 7) return false;\r\n        if (filterDateRange === \"MONTH\" && diffDays > 30) return false;\r\n      }\r\n      \r\n      return true;\r\n    });\r\n\r\n    // Sorting\r\n    filtered.sort((a, b) => {\r\n      let aVal: any, bVal: any;\r\n      \r\n      switch (sortField) {\r\n        case \"name\":\r\n          aVal = a.document_name.toLowerCase();\r\n          bVal = b.document_name.toLowerCase();\r\n          break;\r\n        case \"date\":\r\n          aVal = new Date(a.created_at).getTime();\r\n          bVal = new Date(b.created_at).getTime();\r\n          break;\r\n        case \"risk\":\r\n          const riskOrder = { \"HIGH\": 3, \"MEDIUM\": 2, \"LOW\": 1 };\r\n          aVal = riskOrder[a.overall_risk_level as keyof typeof riskOrder] || 0;\r\n          bVal = riskOrder[b.overall_risk_level as keyof typeof riskOrder] || 0;\r\n          break;\r\n        case \"changes\":\r\n          aVal = a.changes_count || 0;\r\n          bVal = b.changes_count || 0;\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n      \r\n      return sortDirection === \"asc\" \r\n        ? (aVal > bVal ? 1 : -1)\r\n        : (aVal < bVal ? 1 : -1);\r\n    });\r\n\r\n    return filtered;\r\n  }, [items, searchTerm, filterRisk, filterDateRange, sortField, sortDirection]);\r\n\r\n  // üóëÔ∏è Delete single item\r\n  const deleteItem = async (id: number) => {\r\n    if (!confirm(\"‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?\")) return;\r\n    \r\n    setDeletingId(id);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(\"‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\");\r\n      }\r\n      \r\n      // Remove from UI\r\n      setItems(prev => prev.filter(item => item.id !== id));\r\n      setSelectedItems(prev => prev.filter(itemId => itemId !== id));\r\n    } catch (err: any) {\r\n      alert(\"‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: \" + (err.message || \"‡πÇ‡∏õ‡∏£‡∏î‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\"));\r\n    } finally {\r\n      setDeletingId(null);\r\n    }\r\n  };\r\n\r\n  // üóëÔ∏è Bulk delete\r\n  const deleteSelected = async () => {\r\n    if (!selectedItems.length || \r\n        !confirm(`‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö ${selectedItems.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`)) return;\r\n    \r\n    try {\r\n      const promises = selectedItems.map(id =>\r\n        fetch(`${API_BASE}/comparisons/${id}`, { method: \"DELETE\" })\r\n          .then(res => res.ok ? { success: true, id } : { success: false, id })\r\n      );\r\n      \r\n      const results = await Promise.all(promises);\r\n      const failed = results.filter(r => !r.success);\r\n      \r\n      if (failed.length > 0) {\r\n        alert(`‡∏•‡∏ö ${failed.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à`);\r\n      }\r\n      \r\n      // Refresh list\r\n      fetchList();\r\n      setSelectedItems([]);\r\n    } catch (err) {\r\n      alert(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\");\r\n    }\r\n  };\r\n\r\n  // üìã Bulk selection\r\n  const toggleSelectItem = (id: number) => {\r\n    setSelectedItems(prev => \r\n      prev.includes(id) \r\n        ? prev.filter(itemId => itemId !== id)\r\n        : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const selectAllVisible = () => {\r\n    const visibleIds = filteredAndSortedItems.map(item => item.id);\r\n    if (selectedItems.length === visibleIds.length) {\r\n      setSelectedItems([]);\r\n    } else {\r\n      setSelectedItems(visibleIds);\r\n    }\r\n  };\r\n\r\n  // üìä Export functions\r\n  const exportToCSV = () => {\r\n    const headers = [\"ID\", \"Document Name\", \"Version Old\", \"Version New\", \"Created At\", \"Risk Level\", \"Changes Count\"];\r\n    \r\n    const csvRows = [\r\n      headers.join(\",\"),\r\n      ...filteredAndSortedItems.map(item => [\r\n        item.id,\r\n        `\"${item.document_name.replace(/\"/g, '\"\"')}\"`,\r\n        item.version_old_label,\r\n        item.version_new_label,\r\n        new Date(item.created_at).toISOString(),\r\n        item.overall_risk_level || \"N/A\",\r\n        item.changes_count || 0\r\n      ].join(\",\"))\r\n    ];\r\n    \r\n    const csvString = csvRows.join(\"\\n\");\r\n    const blob = new Blob([csvString], { type: \"text/csv;charset=utf-8;\" });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `document_comparisons_${new Date().toISOString().split('T')[0]}.csv`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const exportToJSON = () => {\r\n    const dataStr = JSON.stringify(filteredAndSortedItems, null, 2);\r\n    const blob = new Blob([dataStr], { type: \"application/json\" });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `document_comparisons_${new Date().getTime()}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // üîÑ Sorting handler\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortDirection(prev => prev === \"asc\" ? \"desc\" : \"asc\");\r\n    } else {\r\n      setSortField(field);\r\n      setSortDirection(\"desc\");\r\n    }\r\n  };\r\n\r\n  // üìÖ Format date\r\n  const formatDate = (iso: string) => {\r\n    try {\r\n      const date = new Date(iso);\r\n      return date.toLocaleDateString('th-TH', {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return iso;\r\n    }\r\n  };\r\n\r\n  // üìà Risk badge\r\n  const RiskBadge = ({ risk }: { risk?: string | null }) => {\r\n    const base = \"px-2 py-1 rounded-full text-xs font-medium\";\r\n    const level = risk || \"UNKNOWN\";\r\n    \r\n    if (level.includes(\"HIGH\")) {\r\n      return <span className={`${base} bg-red-100 text-red-700`}>‡∏™‡∏π‡∏á</span>;\r\n    }\r\n    if (level.includes(\"MEDIUM\")) {\r\n      return <span className={`${base} bg-amber-100 text-amber-700`}>‡∏Å‡∏•‡∏≤‡∏á</span>;\r\n    }\r\n    if (level.includes(\"LOW\")) {\r\n      return <span className={`${base} bg-emerald-100 text-emerald-700`}>‡∏ï‡πà‡∏≥</span>;\r\n    }\r\n    return <span className={`${base} bg-slate-100 text-slate-600`}>‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</span>;\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6\">\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <div className=\"inline-flex items-center justify-center h-12 w-12 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg\">\r\n                  <ClockIcon className=\"h-6 w-6\" />\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">\r\n                    ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                  </h1>\r\n                  <p className=\"text-slate-600 mt-1\">\r\n                    ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              <button\r\n                onClick={exportToCSV}\r\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 border border-emerald-200 text-emerald-700 rounded-lg hover:bg-emerald-100 font-medium\"\r\n              >\r\n                <DocumentArrowDownIcon className=\"h-4 w-4\" />\r\n                Export CSV\r\n              </button>\r\n              <button\r\n                onClick={exportToJSON}\r\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-100 font-medium\"\r\n              >\r\n                <DocumentArrowDownIcon className=\"h-4 w-4\" />\r\n                Export JSON\r\n              </button>\r\n              <Link\r\n                href=\"/\"\r\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:opacity-90 font-medium\"\r\n              >\r\n                <DocumentMagnifyingGlassIcon className=\"h-4 w-4\" />\r\n                ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡∏°‡πà\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* üìä Statistics Dashboard */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-6 gap-3 mb-8\">\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">{stats.total}</div>\r\n            <div className=\"text-sm text-slate-600 flex items-center gap-2 mt-1\">\r\n              <TagIcon className=\"h-4 w-4\" />\r\n              ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-red-600\">{stats.highRisk}</div>\r\n            <div className=\"text-sm text-slate-600\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-amber-600\">{stats.mediumRisk}</div>\r\n            <div className=\"text-sm text-slate-600\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏•‡∏≤‡∏á</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-emerald-600\">{stats.lowRisk}</div>\r\n            <div className=\"text-sm text-slate-600\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-slate-600\">{stats.thisWeek}</div>\r\n            <div className=\"text-sm text-slate-600 flex items-center gap-2 mt-1\">\r\n              <CalendarIcon className=\"h-4 w-4\" />\r\n              ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-4 shadow-sm\">\r\n            <div className=\"text-2xl font-bold text-slate-600\">{stats.today}</div>\r\n            <div className=\"text-sm text-slate-600\">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* üîç Search & Filter Bar */}\r\n        <div className=\"bg-white rounded-xl border border-slate-200 shadow-sm mb-6\">\r\n          <div className=\"p-4 border-b border-slate-100\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <button\r\n                  onClick={() => setShowFilters(!showFilters)}\r\n                  className={`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium ${\r\n                    showFilters \r\n                      ? 'bg-blue-50 text-blue-700 border border-blue-200' \r\n                      : 'bg-slate-50 text-slate-700 border border-slate-200'\r\n                  }`}\r\n                >\r\n                  <FunnelIcon className=\"h-4 w-4\" />\r\n                  {showFilters ? '‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á' : '‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á'}\r\n                </button>\r\n                <div className=\"text-sm text-slate-600\">\r\n                  ‡πÅ‡∏™‡∏î‡∏á <span className=\"font-bold\">{filteredAndSortedItems.length}</span> ‡∏à‡∏≤‡∏Å {items.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-3\">\r\n                <button\r\n                  onClick={fetchList}\r\n                  disabled={loading}\r\n                  className=\"inline-flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-sm font-medium disabled:opacity-50\"\r\n                >\r\n                  <ArrowPathIcon className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\r\n                  ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {showFilters && (\r\n              <div className=\"mt-4 pt-4 border-t border-slate-100\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  {/* Search Input */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                      ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                      />\r\n                      <MagnifyingGlassIcon className=\"absolute left-3 top-2.5 h-5 w-5 text-slate-400\" />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Risk Filter */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                      ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n                    </label>\r\n                    <select\r\n                      value={filterRisk}\r\n                      onChange={(e) => setFilterRisk(e.target.value)}\r\n                      className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    >\r\n                      <option value=\"ALL\">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>\r\n                      <option value=\"HIGH\">‡∏™‡∏π‡∏á</option>\r\n                      <option value=\"MEDIUM\">‡∏Å‡∏•‡∏≤‡∏á</option>\r\n                      <option value=\"LOW\">‡∏ï‡πà‡∏≥</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  {/* Date Filter */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                      ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤\r\n                    </label>\r\n                    <select\r\n                      value={filterDateRange}\r\n                      onChange={(e) => setFilterDateRange(e.target.value as DateFilter)}\r\n                      className=\"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    >\r\n                      <option value=\"ALL\">‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</option>\r\n                      <option value=\"TODAY\">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</option>\r\n                      <option value=\"WEEK\">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</option>\r\n                      <option value=\"MONTH\">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* üóëÔ∏è Bulk Actions Bar */}\r\n        {selectedItems.length > 0 && (\r\n          <div className=\"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl shadow-sm\">\r\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-700 font-bold\">\r\n                  {selectedItems.length}\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-medium text-blue-900\">\r\n                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å {selectedItems.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                  </h3>\r\n                  <p className=\"text-sm text-blue-700\">\r\n                    ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center gap-3\">\r\n                <button\r\n                  onClick={deleteSelected}\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium\"\r\n                >\r\n                  <TrashIcon className=\"h-4 w-4\" />\r\n                  ‡∏•‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å\r\n                </button>\r\n                <button\r\n                  onClick={() => setSelectedItems([])}\r\n                  className=\"px-3 py-1.5 text-sm text-blue-700 hover:text-blue-900\"\r\n                >\r\n                  ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* üìã Main Content Table */}\r\n        <div className=\"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden\">\r\n          {/* Table Header */}\r\n          <div className=\"border-b border-slate-200 p-4 grid grid-cols-12 gap-4 text-sm font-semibold text-slate-700 bg-slate-50\">\r\n            <div className=\"col-span-1\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selectedItems.length > 0 && \r\n                         selectedItems.length === filteredAndSortedItems.length}\r\n                onChange={selectAllVisible}\r\n                className=\"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            <div \r\n              className=\"col-span-4 flex items-center gap-1 cursor-pointer hover:text-blue-600 select-none\"\r\n              onClick={() => handleSort(\"name\")}\r\n            >\r\n              ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n              {sortField === \"name\" && (\r\n                sortDirection === \"asc\" ? \r\n                <ArrowUpIcon className=\"h-3 w-3\" /> : \r\n                <ArrowDownIcon className=\"h-3 w-3\" />\r\n              )}\r\n            </div>\r\n            <div className=\"col-span-2\">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô</div>\r\n            <div \r\n              className=\"col-span-2 flex items-center gap-1 cursor-pointer hover:text-blue-600 select-none\"\r\n              onClick={() => handleSort(\"date\")}\r\n            >\r\n              ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\r\n              {sortField === \"date\" && (\r\n                sortDirection === \"asc\" ? \r\n                <ArrowUpIcon className=\"h-3 w-3\" /> : \r\n                <ArrowDownIcon className=\"h-3 w-3\" />\r\n              )}\r\n            </div>\r\n            <div \r\n              className=\"col-span-2 flex items-center gap-1 cursor-pointer hover:text-blue-600 select-none\"\r\n              onClick={() => handleSort(\"risk\")}\r\n            >\r\n              ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n              {sortField === \"risk\" && (\r\n                sortDirection === \"asc\" ? \r\n                <ArrowUpIcon className=\"h-3 w-3\" /> : \r\n                <ArrowDownIcon className=\"h-3 w-3\" />\r\n              )}\r\n            </div>\r\n            <div className=\"col-span-1 text-right\">‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>\r\n          </div>\r\n\r\n          {/* Loading State */}\r\n          {loading && (\r\n            <div className=\"p-8 text-center\">\r\n              <ArrowPathIcon className=\"h-8 w-8 animate-spin mx-auto text-blue-600\" />\r\n              <p className=\"mt-4 text-slate-600 font-medium\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\r\n              <p className=\"text-sm text-slate-500 mt-1\">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error State */}\r\n          {error && !loading && (\r\n            <div className=\"p-8 text-center\">\r\n              <div className=\"inline-flex h-12 w-12 items-center justify-center rounded-full bg-red-100 text-red-600 mb-4\">\r\n                <ExclamationTriangleIcon className=\"h-6 w-6\" />\r\n              </div>\r\n              <h3 className=\"font-bold text-slate-900 mb-2\">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>\r\n              <p className=\"text-slate-600 mb-4 max-w-md mx-auto\">{error}</p>\r\n              <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n                <button\r\n                  onClick={fetchList}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium\"\r\n                >\r\n                  ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\r\n                </button>\r\n                <Link\r\n                  href=\"/\"\r\n                  className=\"px-4 py-2 bg-slate-100 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-200 font-medium\"\r\n                >\r\n                  ‡πÑ‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty State */}\r\n          {!loading && !error && filteredAndSortedItems.length === 0 && (\r\n            <div className=\"p-8 text-center\">\r\n              <div className=\"inline-flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400 mb-4\">\r\n                <DocumentMagnifyingGlassIcon className=\"h-8 w-8\" />\r\n              </div>\r\n              <h3 className=\"font-bold text-slate-900 mb-2\">\r\n                {items.length === 0 ? \"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\" : \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\"}\r\n              </h3>\r\n              <p className=\"text-slate-600 mb-6 max-w-md mx-auto\">\r\n                {items.length === 0 \r\n                  ? \"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏≠‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\" \r\n                  : \"‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ\"}\r\n              </p>\r\n              <Link\r\n                href=\"/\"\r\n                className=\"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-medium hover:opacity-90\"\r\n              >\r\n                <DocumentMagnifyingGlassIcon className=\"h-5 w-5\" />\r\n                ‡πÑ‡∏õ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n              </Link>\r\n            </div>\r\n          )}\r\n\r\n          {/* Data Rows */}\r\n          {!loading && !error && filteredAndSortedItems.length > 0 && (\r\n            <div className=\"divide-y divide-slate-100\">\r\n              {filteredAndSortedItems.map((item) => (\r\n                <div \r\n                  key={item.id} \r\n                  className={`p-4 grid grid-cols-12 gap-4 items-center transition-colors ${\r\n                    selectedItems.includes(item.id) \r\n                      ? 'bg-blue-50' \r\n                      : 'hover:bg-slate-50'\r\n                  }`}\r\n                >\r\n                  {/* Checkbox */}\r\n                  <div className=\"col-span-1\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedItems.includes(item.id)}\r\n                      onChange={() => toggleSelectItem(item.id)}\r\n                      className=\"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Document Name */}\r\n                  <div className=\"col-span-4\">\r\n                    <div className=\"font-medium text-slate-900 line-clamp-1\">\r\n                      {item.document_name}\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 mt-1\">\r\n                      <span className=\"text-xs px-1.5 py-0.5 bg-slate-100 text-slate-600 rounded\">\r\n                        ID: {item.id}\r\n                      </span>\r\n                      {item.changes_count !== undefined && (\r\n                        <span className=\"text-xs px-1.5 py-0.5 bg-violet-100 text-violet-700 rounded\">\r\n                          {item.changes_count} ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Versions */}\r\n                  <div className=\"col-span-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"px-2 py-1 bg-violet-100 text-violet-700 text-xs font-medium rounded\">\r\n                        {item.version_old_label}\r\n                      </span>\r\n                      <span className=\"text-slate-400\">‚Üí</span>\r\n                      <span className=\"px-2 py-1 bg-fuchsia-100 text-fuchsia-700 text-xs font-medium rounded\">\r\n                        {item.version_new_label}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Date */}\r\n                  <div className=\"col-span-2\">\r\n                    <div className=\"text-sm text-slate-900 font-medium\">\r\n                      {formatDate(item.created_at)}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Risk Level */}\r\n                  <div className=\"col-span-2\">\r\n                    <RiskBadge risk={item.overall_risk_level} />\r\n                  </div>\r\n\r\n                  {/* Actions */}\r\n                  <div className=\"col-span-1\">\r\n                    <div className=\"flex items-center justify-end gap-1\">\r\n                      <Link\r\n                        href={`/compare/${item.id}`}\r\n                        className=\"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                        title=\"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\"\r\n                      >\r\n                        <EyeIcon className=\"h-5 w-5\" />\r\n                      </Link>\r\n                      <button\r\n                        onClick={() => deleteItem(item.id)}\r\n                        disabled={deletingId === item.id}\r\n                        className=\"p-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50\"\r\n                        title=\"‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\"\r\n                      >\r\n                        {deletingId === item.id ? (\r\n                          <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\r\n                        ) : (\r\n                          <TrashIcon className=\"h-5 w-5\" />\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Footer */}\r\n          {!loading && !error && filteredAndSortedItems.length > 0 && (\r\n            <div className=\"border-t border-slate-200 p-4 bg-slate-50\">\r\n              <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                <div className=\"text-sm text-slate-600\">\r\n                  ‡πÅ‡∏™‡∏î‡∏á <span className=\"font-medium\">{filteredAndSortedItems.length}</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                  {searchTerm && ` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö \"${searchTerm}\"`}\r\n                </div>\r\n                <div className=\"text-sm text-slate-600\">\r\n                  ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°: \r\n                  <select\r\n                    value={sortField}\r\n                    onChange={(e) => setSortField(e.target.value as SortField)}\r\n                    className=\"ml-2 px-2 py-1 border border-slate-300 rounded text-sm\"\r\n                  >\r\n                    <option value=\"date\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</option>\r\n                    <option value=\"name\">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</option>\r\n                    <option value=\"risk\">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</option>\r\n                    <option value=\"changes\">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</option>\r\n                  </select>\r\n                  <select\r\n                    value={sortDirection}\r\n                    onChange={(e) => setSortDirection(e.target.value as SortDirection)}\r\n                    className=\"ml-2 px-2 py-1 border border-slate-300 rounded text-sm\"\r\n                  >\r\n                    <option value=\"desc\">‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢</option>\r\n                    <option value=\"asc\">‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏°‡∏≤‡∏Å</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}
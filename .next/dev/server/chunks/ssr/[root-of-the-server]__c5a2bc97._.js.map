{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/history/page.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import React, { useEffect, useState, useMemo } from \"react\";\r\n// import Link from \"next/link\";\r\n// import {\r\n//   ClockIcon,\r\n//   DocumentMagnifyingGlassIcon,\r\n//   ArrowPathIcon,\r\n//   ExclamationTriangleIcon,\r\n//   EyeIcon,\r\n//   TrashIcon,\r\n//   FunnelIcon,\r\n//   MagnifyingGlassIcon,\r\n//   ArrowDownIcon,\r\n//   ArrowUpIcon,\r\n//   XMarkIcon,\r\n//   ChartPieIcon,\r\n//   ScaleIcon,\r\n//   CurrencyDollarIcon,\r\n//   CogIcon,\r\n// } from \"@heroicons/react/24/outline\";\r\n\r\n// import {\r\n//   RadarChart,\r\n//   Radar,\r\n//   PolarGrid,\r\n//   PolarAngleAxis,\r\n//   PolarRadiusAxis,\r\n//   Tooltip,\r\n//   ResponsiveContainer,\r\n// } from \"recharts\";\r\n\r\n// /* ================= TYPES ================= */\r\n\r\n// type ComparisonItem = {\r\n//   id: number;\r\n//   document_name: string;\r\n//   version_old_label: string;\r\n//   version_new_label: string;\r\n//   created_at: string;\r\n//   overall_risk_level?: string | null;\r\n//   changes_count?: number;\r\n//   legal_score?: number;\r\n//   financial_score?: number;\r\n//   operational_score?: number;\r\n// };\r\n\r\n// const API_BASE = \"http://127.0.0.1:8000\";\r\n\r\n// /* ================= PAGE ================= */\r\n\r\n// export default function HistoryPage() {\r\n//   const [items, setItems] = useState<ComparisonItem[]>([]);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [error, setError] = useState<string | null>(null);\r\n\r\n//   const [activeItem, setActiveItem] = useState<ComparisonItem | null>(null);\r\n\r\n//   /* ================= FETCH ================= */\r\n\r\n//   useEffect(() => {\r\n//     fetchList();\r\n//   }, []);\r\n\r\n//   const fetchList = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const res = await fetch(`${API_BASE}/comparisons?limit=100`);\r\n//       const data: ComparisonItem[] = await res.json();\r\n\r\n//       // mock score\r\n//       setItems(\r\n//         data.map((i) => ({\r\n//           ...i,\r\n//           legal_score: Math.floor(Math.random() * 40) + 60,\r\n//           financial_score: Math.floor(Math.random() * 40) + 60,\r\n//           operational_score: Math.floor(Math.random() * 40) + 60,\r\n//         }))\r\n//       );\r\n//     } catch {\r\n//       setError(\"‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   /* ================= SPIDER DATA ================= */\r\n\r\n//   const spiderData = useMemo(() => {\r\n//     if (!activeItem) return [];\r\n//     return [\r\n//       {\r\n//         metric: \"‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢\",\r\n//         value: activeItem.legal_score,\r\n//         icon: \"‚öñÔ∏è\",\r\n//       },\r\n//       {\r\n//         metric: \"‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô\",\r\n//         value: activeItem.financial_score,\r\n//         icon: \"üí∞\",\r\n//       },\r\n//       {\r\n//         metric: \"‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô\",\r\n//         value: activeItem.operational_score,\r\n//         icon: \"‚öôÔ∏è\",\r\n//       },\r\n//     ];\r\n//   }, [activeItem]);\r\n\r\n//   /* ================= UI ================= */\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen bg-[#f0f2f5] p-6\">\r\n//       {/* ================= MODAL ================= */}\r\n//       {activeItem && (\r\n//         <div className=\"fixed inset-0 z-50 bg-black/40 flex items-center justify-center\">\r\n//           <div className=\"bg-white rounded-xl w-full max-w-3xl shadow-2xl overflow-hidden\">\r\n//             {/* Header */}\r\n//             <div className=\"flex items-center justify-between px-6 py-4 border-b\">\r\n//               <div className=\"flex items-center gap-3\">\r\n//                 <div className=\"h-10 w-10 rounded-lg bg-[#1877F2] flex items-center justify-center\">\r\n//                   <ChartPieIcon className=\"h-5 w-5 text-white\" />\r\n//                 </div>\r\n//                 <div>\r\n//                   <h3 className=\"font-bold text-gray-900\">\r\n//                     ‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n//                   </h3>\r\n//                   <p className=\"text-sm text-gray-500\">\r\n//                     {activeItem.document_name}\r\n//                   </p>\r\n//                 </div>\r\n//               </div>\r\n//               <button\r\n//                 onClick={() => setActiveItem(null)}\r\n//                 className=\"p-2 hover:bg-gray-100 rounded\"\r\n//               >\r\n//                 <XMarkIcon className=\"h-5 w-5\" />\r\n//               </button>\r\n//             </div>\r\n\r\n//             {/* Graph */}\r\n//             <div className=\"p-6 h-[360px]\">\r\n//               <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n//                 <RadarChart data={spiderData}>\r\n//                   <PolarGrid stroke=\"#e4e6eb\" />\r\n//                   <PolarAngleAxis\r\n//                     dataKey=\"metric\"\r\n//                     tick={{ fill: \"#1c1e21\", fontSize: 14 }}\r\n//                   />\r\n//                   <PolarRadiusAxis\r\n//                     domain={[0, 100]}\r\n//                     tick={{ fill: \"#65676b\", fontSize: 12 }}\r\n//                   />\r\n//                   <Radar\r\n//                     dataKey=\"value\"\r\n//                     stroke=\"#1877F2\"\r\n//                     fill=\"#1877F2\"\r\n//                     fillOpacity={0.4}\r\n//                   />\r\n//                   <Tooltip />\r\n//                 </RadarChart>\r\n//               </ResponsiveContainer>\r\n//             </div>\r\n\r\n//             {/* Footer */}\r\n//             <div className=\"px-6 py-4 border-t bg-gray-50 flex justify-between\">\r\n//               <div className=\"flex gap-4 text-sm\">\r\n//                 <span className=\"flex items-center gap-1\">\r\n//                   <ScaleIcon className=\"h-4 w-4 text-blue-600\" />\r\n//                   ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢\r\n//                 </span>\r\n//                 <span className=\"flex items-center gap-1\">\r\n//                   <CurrencyDollarIcon className=\"h-4 w-4 text-green-600\" />\r\n//                   ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô\r\n//                 </span>\r\n//                 <span className=\"flex items-center gap-1\">\r\n//                   <CogIcon className=\"h-4 w-4 text-orange-500\" />\r\n//                   ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô\r\n//                 </span>\r\n//               </div>\r\n//               <Link\r\n//                 href={`/compare/${activeItem.id}`}\r\n//                 className=\"text-[#1877F2] font-medium hover:underline\"\r\n//               >\r\n//                 ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‚Üí\r\n//               </Link>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* ================= HEADER ================= */}\r\n//       <div className=\"max-w-7xl mx-auto\">\r\n//         <div className=\"mb-6 flex items-center justify-between\">\r\n//           <div className=\"flex items-center gap-3\">\r\n//             <div className=\"h-12 w-12 bg-[#1877F2] rounded-xl flex items-center justify-center\">\r\n//               <ClockIcon className=\"h-6 w-6 text-white\" />\r\n//             </div>\r\n//             <div>\r\n//               <h1 className=\"text-2xl font-bold text-gray-900\">\r\n//                 ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n//               </h1>\r\n//               <p className=\"text-gray-600\">\r\n//                 ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏ß‡∏¢ AI\r\n//               </p>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <Link\r\n//             href=\"/\"\r\n//             className=\"px-4 py-2 bg-[#1877F2] text-white rounded-lg hover:bg-blue-700\"\r\n//           >\r\n//             ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡∏°‡πà\r\n//           </Link>\r\n//         </div>\r\n\r\n//         {/* ================= TABLE ================= */}\r\n//         <div className=\"bg-white rounded-xl shadow border overflow-hidden\">\r\n//           {loading && (\r\n//             <div className=\"p-8 text-center text-gray-600\">\r\n//               ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...\r\n//             </div>\r\n//           )}\r\n\r\n//           {error && (\r\n//             <div className=\"p-8 text-center text-red-600\">{error}</div>\r\n//           )}\r\n\r\n//           {!loading && !error && (\r\n//             <table className=\"w-full\">\r\n//               <thead className=\"bg-gray-50 border-b\">\r\n//                 <tr>\r\n//                   <th className=\"p-3 text-left text-sm\">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</th>\r\n//                   <th className=\"p-3 text-left text-sm\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n//                   <th className=\"p-3 text-left text-sm\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</th>\r\n//                   <th className=\"p-3\"></th>\r\n//                 </tr>\r\n//               </thead>\r\n//               <tbody className=\"divide-y\">\r\n//                 {items.map((item) => (\r\n//                   <tr key={item.id} className=\"hover:bg-gray-50\">\r\n//                     <td className=\"p-3 font-medium\">\r\n//                       {item.document_name}\r\n//                     </td>\r\n//                     <td className=\"p-3 text-sm text-gray-600\">\r\n//                       {new Date(item.created_at).toLocaleString(\"th-TH\")}\r\n//                     </td>\r\n//                     <td className=\"p-3\">\r\n//                       <button\r\n//                         onClick={() => setActiveItem(item)}\r\n//                         className=\"px-3 py-1.5 rounded-lg text-sm bg-blue-50 text-blue-700 hover:bg-blue-100\"\r\n//                       >\r\n//                         ‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n//                       </button>\r\n//                     </td>\r\n//                     <td className=\"p-3 text-right\">\r\n//                       <Link\r\n//                         href={`/compare/${item.id}`}\r\n//                         className=\"text-gray-500 hover:text-[#1877F2]\"\r\n//                       >\r\n//                         <EyeIcon className=\"h-5 w-5 inline\" />\r\n//                       </Link>\r\n//                     </td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\nimport {\r\n  Clock,\r\n  FileSearch,\r\n  RefreshCcw,\r\n  AlertTriangle,\r\n  Eye,\r\n  Trash2,\r\n  Filter,\r\n  Search,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Check,\r\n  X,\r\n  PieChart,\r\n  FileText,\r\n  Scale,\r\n  DollarSign,\r\n  Settings,\r\n  Info,\r\n  Plus,\r\n  Minus,\r\n  Maximize2,\r\n  Minimize2,\r\n  Sparkles,\r\n  Flame,\r\n  ShieldCheck,\r\n  TrendingUp,\r\n  Copy,\r\n  Calendar,\r\n  Star,\r\n  Zap,\r\n  Globe,\r\n} from \"lucide-react\";\r\n\r\nimport {\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  Radar,\r\n  Legend,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n} from \"recharts\";\r\ntype ComparisonItem = {\r\n  id: number;\r\n  document_name: string;\r\n  version_old_label: string;\r\n  version_new_label: string;\r\n  created_at: string;\r\n  overall_risk_level?: string | null;\r\n  changes_count?: number;\r\n  legal_score?: number;\r\n  financial_score?: number;\r\n  operational_score?: number;\r\n};\r\n\r\nconst API_BASE = \"http://127.0.0.1:8000\";\r\n\r\ntype SortField = \"name\" | \"date\" | \"risk\" | \"changes\";\r\ntype SortDirection = \"asc\" | \"desc\";\r\ntype DateFilter = \"ALL\" | \"TODAY\" | \"WEEK\" | \"MONTH\";\r\n\r\nexport default function HistoryPage() {\r\n  // Core states\r\n  const [items, setItems] = useState<ComparisonItem[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [deletingId, setDeletingId] = useState<number | null>(null);\r\n\r\n  // üîç Search & Filter states\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterRisk, setFilterRisk] = useState<string>(\"ALL\");\r\n  const [filterDateRange, setFilterDateRange] = useState<DateFilter>(\"ALL\");\r\n\r\n  // üìä Sorting states\r\n  const [sortField, setSortField] = useState<SortField>(\"date\");\r\n  const [sortDirection, setSortDirection] = useState<SortDirection>(\"desc\");\r\n\r\n  // üìã Bulk operations\r\n  const [selectedItems, setSelectedItems] = useState<number[]>([]);\r\n\r\n  // üìà Spider Graph states\r\n  const [activeSpiderGraph, setActiveSpiderGraph] = useState<ComparisonItem | null>(null);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // üìä Statistics\r\n  const stats = useMemo(() => {\r\n    const now = new Date();\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\r\n\r\n    return {\r\n      total: items.length,\r\n      highRisk: items.filter((i) => i.overall_risk_level === \"HIGH\").length,\r\n      mediumRisk: items.filter((i) => i.overall_risk_level === \"MEDIUM\").length,\r\n      lowRisk: items.filter((i) => i.overall_risk_level === \"LOW\").length,\r\n      today: items.filter((i) => new Date(i.created_at) >= today).length,\r\n      thisWeek: items.filter((i) => new Date(i.created_at) >= weekAgo).length,\r\n      thisMonth: items.filter((i) => new Date(i.created_at) >= monthAgo).length,\r\n    };\r\n  }, [items]);\r\n\r\n  // üï∑Ô∏è Prepare data for spider graph\r\n  const spiderGraphData = useMemo(() => {\r\n    if (!activeSpiderGraph) return [];\r\n\r\n    return [\r\n      {\r\n        subject: \"‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢\",\r\n        score: activeSpiderGraph.legal_score || 50,\r\n        fullMark: 100,\r\n        color: \"#1877F2\", // Facebook Blue\r\n        icon: \"‚öñÔ∏è\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö\"\r\n      },\r\n      {\r\n        subject: \"‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô\",\r\n        score: activeSpiderGraph.financial_score || 50,\r\n        fullMark: 100,\r\n        color: \"#42B72A\", // Facebook Green\r\n        icon: \"üí∞\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì\"\r\n      },\r\n      {\r\n        subject: \"‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô\",\r\n        score: activeSpiderGraph.operational_score || 50,\r\n        fullMark: 100,\r\n        color: \"#F02849\", // Facebook Red\r\n        icon: \"‚öôÔ∏è\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\"\r\n      },\r\n      {\r\n        subject: \"‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ\",\r\n        score: Math.floor(Math.random() * 40) + 60, // Random score for demo\r\n        fullMark: 100,\r\n        color: \"#F7B928\", // Facebook Yellow\r\n        icon: \"üíª\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ\"\r\n      },\r\n      {\r\n        subject: \"‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£\",\r\n        score: Math.floor(Math.random() * 50) + 50, // Random score for demo\r\n        fullMark: 100,\r\n        color: \"#8B9DC3\", // Facebook Light Blue\r\n        icon: \"üë•\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•\"\r\n      },\r\n      {\r\n        subject: \"‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á\",\r\n        score: Math.floor(Math.random() * 30) + 70, // Random score for demo\r\n        fullMark: 100,\r\n        color: \"#BB86FC\", // Facebook Purple\r\n        icon: \"‚≠ê\",\r\n        description: \"‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á\"\r\n      },\r\n    ];\r\n  }, [activeSpiderGraph]);\r\n\r\n  // üîÑ Load data\r\n  useEffect(() => {\r\n    fetchList();\r\n  }, []);\r\n\r\n  // Handle window resize for fullscreen\r\n  useEffect(() => {\r\n    const handleFullscreenChange = () => {\r\n      setIsFullscreen(!!document.fullscreenElement);\r\n    };\r\n\r\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\r\n    return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\r\n  }, []);\r\n\r\n  const fetchList = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons?limit=100`);\r\n      if (!res.ok) {\r\n        const errData = await res.json().catch(() => ({}));\r\n        throw new Error(\r\n          errData.detail ||\r\n            `‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ (‡∏£‡∏´‡∏±‡∏™ ${res.status}). ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ API server ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà ${API_BASE}`\r\n        );\r\n      }\r\n      const data: ComparisonItem[] = await res.json();\r\n      const enhancedData = data.map(item => ({\r\n        ...item,\r\n        legal_score: Math.floor(Math.random() * 40) + 60,\r\n        financial_score: Math.floor(Math.random() * 50) + 50,\r\n        operational_score: Math.floor(Math.random() * 60) + 40,\r\n      }));\r\n      setItems(enhancedData);\r\n    } catch (err: any) {\r\n      console.error(\"Fetch error:\", err);\r\n      setError(err.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // üîç Filter and sort items\r\n  const filteredAndSortedItems = useMemo(() => {\r\n    let filtered = items.filter((item) => {\r\n      if (searchTerm && !item.document_name.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n        return false;\r\n      }\r\n      if (filterRisk !== \"ALL\" && item.overall_risk_level !== filterRisk) {\r\n        return false;\r\n      }\r\n      if (filterDateRange !== \"ALL\") {\r\n        const itemDate = new Date(item.created_at);\r\n        const now = new Date();\r\n        const diffTime = now.getTime() - itemDate.getTime();\r\n        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n        if (filterDateRange === \"TODAY\" && diffDays > 0) return false;\r\n        if (filterDateRange === \"WEEK\" && diffDays > 7) return false;\r\n        if (filterDateRange === \"MONTH\" && diffDays > 30) return false;\r\n      }\r\n      return true;\r\n    });\r\n\r\n    filtered.sort((a, b) => {\r\n      let aVal: any, bVal: any;\r\n      switch (sortField) {\r\n        case \"name\":\r\n          aVal = a.document_name.toLowerCase();\r\n          bVal = b.document_name.toLowerCase();\r\n          break;\r\n        case \"date\":\r\n          aVal = new Date(a.created_at).getTime();\r\n          bVal = new Date(b.created_at).getTime();\r\n          break;\r\n        case \"risk\": {\r\n          const riskOrder = { HIGH: 3, MEDIUM: 2, LOW: 1 } as const;\r\n          aVal = riskOrder[a.overall_risk_level as keyof typeof riskOrder] || 0;\r\n          bVal = riskOrder[b.overall_risk_level as keyof typeof riskOrder] || 0;\r\n          break;\r\n        }\r\n        case \"changes\":\r\n          aVal = a.changes_count || 0;\r\n          bVal = b.changes_count || 0;\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n      return sortDirection === \"asc\" ? (aVal > bVal ? 1 : -1) : (aVal < bVal ? 1 : -1);\r\n    });\r\n\r\n    return filtered;\r\n  }, [items, searchTerm, filterRisk, filterDateRange, sortField, sortDirection]);\r\n\r\n  // üìã Bulk selection functions\r\n  const toggleSelectItem = (id: number) => {\r\n    setSelectedItems((prev) =>\r\n      prev.includes(id) ? prev.filter((itemId) => itemId !== id) : [...prev, id]\r\n    );\r\n  };\r\n\r\n  const selectAllVisible = () => {\r\n    const visibleIds = filteredAndSortedItems.map((item) => item.id);\r\n    if (selectedItems.length === visibleIds.length) {\r\n      setSelectedItems([]);\r\n    } else {\r\n      setSelectedItems(visibleIds);\r\n    }\r\n  };\r\n\r\n  // üóëÔ∏è Delete functions\r\n  const deleteItem = async (id: number) => {\r\n    if (!confirm(\"‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ?\")) return;\r\n    \r\n    setDeletingId(id);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (res.ok) {\r\n        setItems((prev) => prev.filter((item) => item.id !== id));\r\n        setSelectedItems((prev) => prev.filter((itemId) => itemId !== id));\r\n      } else {\r\n        alert(\"‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Delete error:\", err);\r\n      alert(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\");\r\n    } finally {\r\n      setDeletingId(null);\r\n    }\r\n  };\r\n\r\n  const deleteSelected = async () => {\r\n    if (selectedItems.length === 0 || !confirm(`‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö ${selectedItems.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£?`)) return;\r\n    \r\n    try {\r\n      const deletePromises = selectedItems.map(id =>\r\n        fetch(`${API_BASE}/comparisons/${id}`, { method: \"DELETE\" })\r\n      );\r\n      await Promise.all(deletePromises);\r\n      setItems((prev) => prev.filter((item) => !selectedItems.includes(item.id)));\r\n      setSelectedItems([]);\r\n    } catch (err) {\r\n      console.error(\"Bulk delete error:\", err);\r\n      alert(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å\");\r\n    }\r\n  };\r\n\r\n  // üñ•Ô∏è Handle fullscreen\r\n  const toggleFullscreen = () => {\r\n    if (!containerRef.current) return;\r\n    \r\n    if (!isFullscreen) {\r\n      if (containerRef.current.requestFullscreen) {\r\n        containerRef.current.requestFullscreen();\r\n      }\r\n    } else {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Custom Tooltip for spider graph\r\n  const CustomTooltip = ({ active, payload, label }: any) => {\r\n    if (active && payload && payload.length) {\r\n      const data = payload[0].payload;\r\n      return (\r\n        <div className=\"bg-white/95 backdrop-blur-sm p-4 rounded-xl shadow-2xl border border-gray-200 max-w-xs\">\r\n          <div className=\"flex items-center gap-3 mb-3\">\r\n            <div className=\"text-2xl\">{data.icon}</div>\r\n            <div>\r\n              <h3 className=\"font-bold text-gray-900 text-lg\">{data.subject}</h3>\r\n              <div className=\"text-gray-600 text-sm\">{data.description}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mb-3\">\r\n            <div className=\"flex items-baseline gap-2 mb-2\">\r\n              <span className=\"text-3xl font-bold text-gray-900\">{data.score}</span>\r\n              <span className=\"text-gray-500\">/100</span>\r\n            </div>\r\n            <div className=\"h-3 bg-gray-200 rounded-full overflow-hidden\">\r\n              <div \r\n                className=\"h-full rounded-full\"\r\n                style={{ \r\n                  backgroundColor: data.color,\r\n                  width: `${data.score}%`\r\n                }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className={`text-lg font-semibold ${\r\n            data.score >= 70 ? 'text-red-600' :\r\n            data.score >= 40 ? 'text-yellow-600' :\r\n            'text-green-600'\r\n          }`}>\r\n            {data.score >= 70 ? '‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡∏ô‡∏ó‡∏µ' :\r\n             data.score >= 40 ? 'üìù ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î' :\r\n             '‚úÖ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ'}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // üéØ Customized Radar Chart\r\n  const CustomRadarChart = () => {\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <RadarChart data={spiderGraphData} margin={{ top: 40, right: 40, bottom: 40, left: 40 }}>\r\n          <PolarGrid \r\n            stroke=\"#E4E6EB\" \r\n            strokeWidth={1.5}\r\n            polarRadius={[20, 40, 60, 80]}\r\n            radialLines={false}\r\n          />\r\n          <PolarAngleAxis \r\n            dataKey=\"subject\" \r\n            tick={{ \r\n              fill: '#050505',\r\n              fontSize: 16,\r\n              fontWeight: 600,\r\n              fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n            }}\r\n            axisLine={{ stroke: '#B0B3B8', strokeWidth: 2 }}\r\n          />\r\n          <PolarRadiusAxis \r\n            angle={30} \r\n            domain={[0, 100]} \r\n            tickCount={6}\r\n            tick={{ \r\n              fill: '#65676B',\r\n              fontSize: 12,\r\n              fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n            }}\r\n            axisLine={{ stroke: '#E4E6EB', strokeWidth: 2 }}\r\n          />\r\n          <Radar\r\n            name=\"‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\"\r\n            dataKey=\"score\"\r\n            strokeWidth={3}\r\n            stroke=\"#1877F2\"\r\n            fill=\"#1877F2\"\r\n            fillOpacity={0.4}\r\n            dot={{\r\n              r: 8,\r\n              fill: \"#FFFFFF\",\r\n              stroke: \"#1877F2\",\r\n              strokeWidth: 3\r\n            }}\r\n          />\r\n          <Tooltip content={<CustomTooltip />} />\r\n          <Legend \r\n            wrapperStyle={{\r\n              paddingTop: 20,\r\n              fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n            }}\r\n          />\r\n        </RadarChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  };\r\n\r\n  // Render FULLSCREEN Spider Graph Modal\r\n  const renderSpiderGraphModal = () => {\r\n    if (!activeSpiderGraph) return null;\r\n\r\n    return (\r\n      <div className=\"fixed inset-0 z-50 bg-[#F0F2F5]\">\r\n        {/* Floating controls */}\r\n        <div className=\"absolute top-4 right-4 z-50 flex items-center gap-2\">\r\n          {/* Zoom controls - Simplified */}\r\n          <div className=\"flex items-center gap-1 bg-white/95 backdrop-blur-sm rounded-xl p-1 shadow-lg border border-gray-200\">\r\n            <button\r\n              onClick={() => {}}\r\n              className=\"p-3 hover:bg-gray-100 rounded-xl transition-colors\"\r\n              title=\"‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏Å‡∏£‡∏≤‡∏ü\"\r\n            >\r\n              <SparklesIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n            </button>\r\n            <button\r\n              onClick={() => {}}\r\n              className=\"p-3 hover:bg-gray-100 rounded-xl transition-colors\"\r\n              title=\"‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏£‡∏≤‡∏ü\"\r\n            >\r\n              <ArrowDownIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Fullscreen toggle */}\r\n          <button\r\n            onClick={toggleFullscreen}\r\n            className=\"p-3 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200 hover:bg-white transition-colors\"\r\n            title={isFullscreen ? \"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠\" : \"‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠\"}\r\n          >\r\n            {isFullscreen ? (\r\n              <ArrowsPointingInIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n            ) : (\r\n              <ArrowsPointingOutIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n            )}\r\n          </button>\r\n          \r\n          {/* Close button */}\r\n          <button\r\n            onClick={() => setActiveSpiderGraph(null)}\r\n            className=\"p-3 bg-[#F02849] text-white rounded-xl shadow-lg hover:bg-red-600 transition-colors\"\r\n            title=\"‡∏õ‡∏¥‡∏î‡∏Å‡∏£‡∏≤‡∏ü\"\r\n          >\r\n            <XMarkIcon className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Main graph container */}\r\n        <div \r\n          ref={containerRef}\r\n          className=\"w-full h-full flex flex-col\"\r\n        >\r\n          {/* Header with gradient */}\r\n          <div className=\"px-8 py-6 bg-gradient-to-r from-[#1877F2] to-[#42B72A] relative overflow-hidden\">\r\n            {/* Floating elements */}\r\n            <div className=\"absolute top-4 left-8 text-white/20\">\r\n              <div className=\"text-6xl\">‚öñÔ∏è</div>\r\n            </div>\r\n            <div className=\"absolute bottom-4 right-8 text-white/20\">\r\n              <div className=\"text-6xl\">üí∞</div>\r\n            </div>\r\n            \r\n            <div className=\"relative z-10\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"h-14 w-14 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30\">\r\n                    <ChartPieIcon className=\"h-7 w-7 text-white\" />\r\n                  </div>\r\n                  <div>\r\n                    <h1 className=\"text-3xl font-bold text-white mb-1\">\r\n                      ‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n                    </h1>\r\n                    <div className=\"flex items-center gap-4 text-white/90\">\r\n                      <span className=\"flex items-center gap-1.5\">\r\n                        <DocumentTextIcon className=\"h-4 w-4\" />\r\n                        {activeSpiderGraph.document_name}\r\n                      </span>\r\n                      <span className=\"flex items-center gap-1.5\">\r\n                        <CalendarIcon className=\"h-4 w-4\" />\r\n                        {formatDate(activeSpiderGraph.created_at)}\r\n                      </span>\r\n                      <span className=\"flex items-center gap-1.5\">\r\n                        <FireIcon className=\"h-4 w-4\" />\r\n                        {activeSpiderGraph.changes_count || 0} ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className={`px-4 py-2 rounded-xl font-bold text-white ${\r\n                    activeSpiderGraph.overall_risk_level?.includes('HIGH') ? 'bg-[#F02849]' :\r\n                    activeSpiderGraph.overall_risk_level?.includes('MEDIUM') ? 'bg-[#F7B928]' :\r\n                    'bg-[#42B72A]'\r\n                  }`}>\r\n                    {activeSpiderGraph.overall_risk_level || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Graph area - Takes most of the screen */}\r\n          <div className=\"flex-1 p-4 grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Main graph */}\r\n            <div className=\"lg:col-span-2 bg-white rounded-2xl shadow-lg p-6 border border-gray-200\">\r\n              <div className=\"h-full flex flex-col\">\r\n                <div className=\"mb-6\">\r\n                  <h2 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n                    ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏£‡∏î‡∏≤‡∏£‡πå‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n                  </h2>\r\n                  <p className=\"text-gray-600\">\r\n                    ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô (0-100) ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex-1 relative\">\r\n                  <CustomRadarChart />\r\n                </div>\r\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n                  <div className=\"text-sm text-gray-500\">\r\n                    <span className=\"font-medium text-gray-700\">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</span> Hover ‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Side panel */}\r\n            <div className=\"space-y-6\">\r\n              {/* Score summary */}\r\n              <div className=\"bg-white rounded-2xl shadow-lg p-6 border border-gray-200\">\r\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\r\n                  <StarIcon className=\"h-5 w-5 text-[#F7B928]\" />\r\n                  ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\r\n                </h3>\r\n                <div className=\"space-y-4\">\r\n                  {spiderGraphData.slice(0, 4).map((item, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between p-3 hover:bg-gray-50 rounded-xl transition-colors\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-2xl\">{item.icon}</div>\r\n                        <div>\r\n                          <div className=\"font-medium text-gray-900\">{item.subject}</div>\r\n                          <div className=\"text-xs text-gray-500\">{item.description}</div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <div className=\"text-xl font-bold\" style={{ color: item.color }}>\r\n                          {item.score}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500\">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quick stats */}\r\n              <div className=\"bg-gradient-to-br from-[#1877F2] to-[#42B72A] rounded-2xl shadow-lg p-6 text-white\">\r\n                <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n                  <BoltIcon className=\"h-5 w-5\" />\r\n                  ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏î‡πà‡∏ß‡∏ô\r\n                </h3>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"bg-white/20 p-4 rounded-xl backdrop-blur-sm\">\r\n                    <div className=\"text-2xl font-bold\">{activeSpiderGraph.changes_count || 0}</div>\r\n                    <div className=\"text-sm opacity-90\">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</div>\r\n                  </div>\r\n                  <div className=\"bg-white/20 p-4 rounded-xl backdrop-blur-sm\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {Math.round(spiderGraphData.reduce((acc, item) => acc + item.score, 0) / spiderGraphData.length)}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>\r\n                  </div>\r\n                  <div className=\"bg-white/20 p-4 rounded-xl backdrop-blur-sm\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {Math.max(...spiderGraphData.map(item => item.score))}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div>\r\n                  </div>\r\n                  <div className=\"bg-white/20 p-4 rounded-xl backdrop-blur-sm\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {Math.min(...spiderGraphData.map(item => item.score))}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action buttons */}\r\n              <div className=\"bg-white rounded-2xl shadow-lg p-6 border border-gray-200\">\r\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</h3>\r\n                <div className=\"space-y-3\">\r\n                  <Link\r\n                    href={`/compare/${activeSpiderGraph.id}`}\r\n                    className=\"flex items-center justify-center gap-2 w-full px-4 py-3 bg-gradient-to-r from-[#1877F2] to-[#42B72A] text-white rounded-xl hover:opacity-90 transition-opacity font-medium\"\r\n                  >\r\n                    <EyeIcon className=\"h-5 w-5\" />\r\n                    ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\r\n                  </Link>\r\n                  <button\r\n                    onClick={() => {}}\r\n                    className=\"flex items-center justify-center gap-2 w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium\"\r\n                  >\r\n                    <DocumentDuplicateIcon className=\"h-5 w-5\" />\r\n                    ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveSpiderGraph(null)}\r\n                    className=\"flex items-center justify-center gap-2 w-full px-4 py-3 bg-gray-50 text-gray-600 rounded-xl hover:bg-gray-100 transition-colors font-medium\"\r\n                  >\r\n                    <XMarkIcon className=\"h-5 w-5\" />\r\n                    ‡∏õ‡∏¥‡∏î‡∏Å‡∏£‡∏≤‡∏ü\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Risk Badge Component\r\n  const RiskBadge = ({ risk, item }: { risk?: string | null, item: ComparisonItem }) => {\r\n    const level = risk || \"UNKNOWN\";\r\n    const base = \"px-3 py-1.5 rounded-lg text-sm font-medium flex items-center gap-2 cursor-pointer transition-all hover:shadow-md hover:scale-105\";\r\n\r\n    const handleClick = () => {\r\n      setActiveSpiderGraph(item);\r\n    };\r\n\r\n    if (level.includes(\"HIGH\")) {\r\n      return (\r\n        <button\r\n          onClick={handleClick}\r\n          className={`${base} bg-gradient-to-r from-red-50 to-red-100 text-red-700 border border-red-200 hover:from-red-100 hover:to-red-200`}\r\n        >\r\n          <FireIcon className=\"h-4 w-4\" />\r\n          ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á\r\n        </button>\r\n      );\r\n    }\r\n    if (level.includes(\"MEDIUM\")) {\r\n      return (\r\n        <button\r\n          onClick={handleClick}\r\n          className={`${base} bg-gradient-to-r from-yellow-50 to-yellow-100 text-yellow-700 border border-yellow-200 hover:from-yellow-100 hover:to-yellow-200`}\r\n        >\r\n          <BoltIcon className=\"h-4 w-4\" />\r\n          ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏•‡∏≤‡∏á\r\n        </button>\r\n      );\r\n    }\r\n    if (level.includes(\"LOW\")) {\r\n      return (\r\n        <button\r\n          onClick={handleClick}\r\n          className={`${base} bg-gradient-to-r from-green-50 to-green-100 text-green-700 border border-green-200 hover:from-green-100 hover:to-green-200`}\r\n        >\r\n          <ShieldCheckIcon className=\"h-4 w-4\" />\r\n          ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥\r\n        </button>\r\n      );\r\n    }\r\n    return (\r\n      <button\r\n        onClick={handleClick}\r\n        className={`${base} bg-gradient-to-r from-gray-50 to-gray-100 text-gray-700 border border-gray-200 hover:from-gray-100 hover:to-gray-200`}\r\n      >\r\n        <InformationCircleIcon className=\"h-4 w-4\" />\r\n        ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏\r\n      </button>\r\n    );\r\n  };\r\n\r\n  // üìÖ Format date\r\n  const formatDate = (iso: string) => {\r\n    try {\r\n      const date = new Date(iso);\r\n      return date.toLocaleDateString(\"th-TH\", {\r\n        year: 'numeric',\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n      });\r\n    } catch {\r\n      return iso;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F0F2F5] p-4 md:p-6\">\r\n      {renderSpiderGraphModal()}\r\n      \r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header with gradient */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <div className=\"h-14 w-14 rounded-2xl bg-gradient-to-r from-[#1877F2] to-[#42B72A] flex items-center justify-center shadow-lg\">\r\n                  <ClockIcon className=\"h-7 w-7 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"text-3xl font-bold text-gray-900\">\r\n                    ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                  </h1>\r\n                  <p className=\"text-gray-600 mt-1\">\r\n                    ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î {stats.total} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex gap-3\">\r\n              <Link\r\n                href=\"/\"\r\n                className=\"inline-flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-[#1877F2] to-[#42B72A] text-white rounded-xl hover:opacity-90 transition-opacity shadow-lg font-medium\"\r\n              >\r\n                <DocumentMagnifyingGlassIcon className=\"h-5 w-5\" />\r\n                ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡∏°‡πà\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats cards */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-6 gap-3 mb-6\">\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{stats.total}</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á</div>\r\n            <div className=\"text-2xl font-bold text-red-600\">{stats.highRisk}</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏•‡∏≤‡∏á</div>\r\n            <div className=\"text-2xl font-bold text-yellow-600\">{stats.mediumRisk}</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥</div>\r\n            <div className=\"text-2xl font-bold text-green-600\">{stats.lowRisk}</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>\r\n            <div className=\"text-2xl font-bold text-blue-600\">{stats.today}</div>\r\n          </div>\r\n          <div className=\"bg-white rounded-xl p-4 border border-gray-200 shadow-sm\">\r\n            <div className=\"text-sm text-gray-500 mb-1\">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>\r\n            <div className=\"text-2xl font-bold text-purple-600\">{stats.thisMonth}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col lg:flex-row gap-6\">\r\n          {/* Left Sidebar - Filters */}\r\n          <div className=\"lg:w-1/4\">\r\n            <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm p-5 sticky top-6\">\r\n              <div className=\"flex items-center gap-2 mb-5 pb-5 border-b border-gray-200\">\r\n                <FilterIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n                <h3 className=\"font-bold text-gray-900\">‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</h3>\r\n              </div>\r\n\r\n              <div className=\"space-y-5\">\r\n                {/* Search */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    <MagnifyingGlassIcon className=\"h-4 w-4 inline mr-1\" />\r\n                    ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£...\"\r\n                      value={searchTerm}\r\n                      onChange={(e) => setSearchTerm(e.target.value)}\r\n                      className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#1877F2] focus:border-transparent bg-gray-50\"\r\n                    />\r\n                    <MagnifyingGlassIcon className=\"absolute left-3 top-3.5 h-4 w-4 text-gray-400\" />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Risk Level */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    <ShieldCheckIcon className=\"h-4 w-4 inline mr-1\" />\r\n                    ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\r\n                  </label>\r\n                  <div className=\"space-y-2\">\r\n                    {[\r\n                      { value: \"ALL\", label: \"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\", color: \"bg-gray-400\", icon: GlobeAltIcon },\r\n                      { value: \"HIGH\", label: \"‡∏™‡∏π‡∏á\", color: \"bg-red-500\", icon: FireIcon },\r\n                      { value: \"MEDIUM\", label: \"‡∏Å‡∏•‡∏≤‡∏á\", color: \"bg-yellow-500\", icon: BoltIcon },\r\n                      { value: \"LOW\", label: \"‡∏ï‡πà‡∏≥\", color: \"bg-green-500\", icon: ShieldCheckIcon },\r\n                    ].map((option) => (\r\n                      <button\r\n                        key={option.value}\r\n                        onClick={() => setFilterRisk(option.value)}\r\n                        className={`w-full flex items-center gap-3 p-3 rounded-xl text-left transition-all ${\r\n                          filterRisk === option.value \r\n                            ? \"bg-gradient-to-r from-blue-50 to-blue-100 border border-[#1877F2] shadow-sm\" \r\n                            : \"hover:bg-gray-50 hover:shadow-sm\"\r\n                        }`}\r\n                      >\r\n                        <option.icon className={`h-4 w-4 ${\r\n                          filterRisk === option.value ? \"text-[#1877F2]\" : \"text-gray-400\"\r\n                        }`} />\r\n                        <span className=\"text-sm text-gray-700\">{option.label}</span>\r\n                        {filterRisk === option.value && (\r\n                          <CheckIcon className=\"h-4 w-4 text-[#1877F2] ml-auto\" />\r\n                        )}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Date Range */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    <CalendarIcon className=\"h-4 w-4 inline mr-1\" />\r\n                    ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤\r\n                  </label>\r\n                  <div className=\"space-y-2\">\r\n                    {[\r\n                      { value: \"ALL\", label: \"‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡∏•‡∏≤\", icon: GlobeAltIcon },\r\n                      { value: \"TODAY\", label: \"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ\", icon: SparklesIcon },\r\n                      { value: \"WEEK\", label: \"‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ\", icon: TrendingUpIcon },\r\n                      { value: \"MONTH\", label: \"‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ\", icon: CalendarIcon },\r\n                    ].map((option) => (\r\n                      <button\r\n                        key={option.value}\r\n                        onClick={() => setFilterDateRange(option.value as DateFilter)}\r\n                        className={`w-full flex items-center gap-3 p-3 rounded-xl text-left transition-all ${\r\n                          filterDateRange === option.value \r\n                            ? \"bg-gradient-to-r from-blue-50 to-blue-100 border border-[#1877F2] shadow-sm\" \r\n                            : \"hover:bg-gray-50 hover:shadow-sm\"\r\n                        }`}\r\n                      >\r\n                        <option.icon className={`h-4 w-4 ${\r\n                          filterDateRange === option.value ? \"text-[#1877F2]\" : \"text-gray-400\"\r\n                        }`} />\r\n                        <span className=\"text-sm text-gray-700\">{option.label}</span>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"pt-5 border-t border-gray-200\">\r\n                  <div className=\"text-sm text-gray-600 space-y-3\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span>‡∏û‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>\r\n                      <span className=\"font-bold text-[#1877F2] text-lg\">{filteredAndSortedItems.length}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <span>‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>\r\n                      <span className=\"font-bold text-gray-900\">{items.length}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"space-y-3\">\r\n                  <button\r\n                    onClick={fetchList}\r\n                    disabled={loading}\r\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl hover:from-gray-200 hover:to-gray-300 font-medium text-sm disabled:opacity-50 transition-all shadow-sm\"\r\n                  >\r\n                    <ArrowPathIcon className={`h-4 w-4 ${loading ? \"animate-spin\" : \"\"}`} />\r\n                    ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\r\n                  </button>\r\n                  {(searchTerm || filterRisk !== \"ALL\" || filterDateRange !== \"ALL\") && (\r\n                    <button\r\n                      onClick={() => {\r\n                        setSearchTerm(\"\");\r\n                        setFilterRisk(\"ALL\");\r\n                        setFilterDateRange(\"ALL\");\r\n                      }}\r\n                      className=\"w-full px-4 py-3 bg-gradient-to-r from-yellow-50 to-yellow-100 text-yellow-700 rounded-xl hover:from-yellow-100 hover:to-yellow-200 font-medium text-sm transition-all shadow-sm\"\r\n                    >\r\n                      ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content - Table */}\r\n          <div className=\"lg:w-3/4\">\r\n            {/* Bulk Actions */}\r\n            {selectedItems.length > 0 && (\r\n              <div className=\"mb-4 p-4 bg-gradient-to-r from-[#1877F2] to-[#42B72A] rounded-xl shadow-lg\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"h-10 w-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-lg\">\r\n                      {selectedItems.length}\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-bold text-white text-lg\">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å {selectedItems.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h3>\r\n                      <p className=\"text-white/80 text-sm\">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={deleteSelected}\r\n                      className=\"px-4 py-2 bg-white/20 backdrop-blur-sm border border-white/30 text-white rounded-xl hover:bg-white/30 transition-colors font-medium\"\r\n                    >\r\n                      ‡∏•‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setSelectedItems([])}\r\n                      className=\"px-4 py-2 text-white hover:text-white/80 font-medium\"\r\n                    >\r\n                      ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Table Container */}\r\n            <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\r\n              {/* Table Header */}\r\n              <div className=\"p-5 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                  <div>\r\n                    <h3 className=\"font-bold text-gray-900 text-xl\">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</h3>\r\n                    <p className=\"text-gray-600 mt-1\">\r\n                      ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà <span className=\"text-[#1877F2] font-medium\">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</span> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <select\r\n                      value={sortField}\r\n                      onChange={(e) => setSortField(e.target.value as SortField)}\r\n                      className=\"px-4 py-2.5 border border-gray-300 rounded-xl text-sm bg-white focus:ring-2 focus:ring-[#1877F2] focus:border-transparent\"\r\n                    >\r\n                      <option value=\"date\">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</option>\r\n                      <option value=\"name\">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠</option>\r\n                      <option value=\"risk\">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</option>\r\n                      <option value=\"changes\">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</option>\r\n                    </select>\r\n                    <button\r\n                      onClick={() => setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\")}\r\n                      className=\"p-2.5 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                      {sortDirection === \"asc\" ? (\r\n                        <ArrowUpIcon className=\"h-4 w-4\" />\r\n                      ) : (\r\n                        <ArrowDownIcon className=\"h-4 w-4\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Loading State */}\r\n              {loading && (\r\n                <div className=\"p-12 text-center\">\r\n                  <div className=\"inline-flex items-center justify-center mb-6\">\r\n                    <div className=\"relative\">\r\n                      <div className=\"h-16 w-16 rounded-full border-4 border-gray-200\"></div>\r\n                      <div className=\"absolute top-0 left-0 h-16 w-16 rounded-full border-4 border-[#1877F2] border-t-transparent animate-spin\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-gray-700 font-medium\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\r\n                  <p className=\"text-gray-500 text-sm mt-2\">‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Error State */}\r\n              {error && !loading && (\r\n                <div className=\"p-12 text-center\">\r\n                  <div className=\"inline-flex h-16 w-16 items-center justify-center rounded-full bg-red-100 text-red-600 mb-6\">\r\n                    <ExclamationTriangleIcon className=\"h-8 w-8\" />\r\n                  </div>\r\n                  <h3 className=\"font-bold text-gray-900 text-lg mb-3\">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h3>\r\n                  <p className=\"text-gray-600 mb-6 max-w-md mx-auto\">{error}</p>\r\n                  <button\r\n                    onClick={fetchList}\r\n                    className=\"px-6 py-3 bg-gradient-to-r from-[#1877F2] to-[#42B72A] text-white rounded-xl hover:opacity-90 transition-opacity font-medium\"\r\n                  >\r\n                    ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Empty State */}\r\n              {!loading && !error && filteredAndSortedItems.length === 0 && (\r\n                <div className=\"p-12 text-center\">\r\n                  <div className=\"inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-r from-gray-100 to-gray-200 text-gray-400 mb-6\">\r\n                    <DocumentMagnifyingGlassIcon className=\"h-10 w-10\" />\r\n                  </div>\r\n                  <h3 className=\"font-bold text-gray-900 text-xl mb-3\">\r\n                    {items.length === 0 ? \"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\" : \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå\"}\r\n                  </h3>\r\n                  <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\r\n                    {items.length === 0\r\n                      ? \"‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏≠‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\"\r\n                      : \"‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ\"}\r\n                  </p>\r\n                  <Link\r\n                    href=\"/\"\r\n                    className=\"inline-flex items-center gap-2 px-6 py-3.5 bg-gradient-to-r from-[#1877F2] to-[#42B72A] text-white rounded-xl hover:opacity-90 transition-opacity font-medium shadow-lg\"\r\n                  >\r\n                    <DocumentMagnifyingGlassIcon className=\"h-5 w-5\" />\r\n                    ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                  </Link>\r\n                </div>\r\n              )}\r\n\r\n              {/* Table Content */}\r\n              {!loading && !error && filteredAndSortedItems.length > 0 && (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full\">\r\n                    <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                      <tr>\r\n                        <th className=\"p-4 w-12\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={selectedItems.length > 0 && selectedItems.length === filteredAndSortedItems.length}\r\n                            onChange={selectAllVisible}\r\n                            className=\"h-4 w-4 rounded border-gray-300 text-[#1877F2] focus:ring-[#1877F2]\"\r\n                          />\r\n                        </th>\r\n                        <th className=\"p-4 text-left text-sm font-bold text-gray-700\">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</th>\r\n                        <th className=\"p-4 text-left text-sm font-bold text-gray-700\">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô</th>\r\n                        <th className=\"p-4 text-left text-sm font-bold text-gray-700\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>\r\n                        <th className=\"p-4 text-left text-sm font-bold text-gray-700\">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</th>\r\n                        <th className=\"p-4 text-left text-sm font-bold text-gray-700\">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                      {filteredAndSortedItems.map((item) => (\r\n                        <tr \r\n                          key={item.id} \r\n                          className={`hover:bg-gradient-to-r hover:from-blue-50 hover:to-transparent transition-all ${\r\n                            selectedItems.includes(item.id) ? 'bg-gradient-to-r from-blue-50 to-blue-25' : ''\r\n                          }`}\r\n                        >\r\n                          <td className=\"p-4\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectedItems.includes(item.id)}\r\n                              onChange={() => toggleSelectItem(item.id)}\r\n                              className=\"h-4 w-4 rounded border-gray-300 text-[#1877F2] focus:ring-[#1877F2]\"\r\n                            />\r\n                          </td>\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"h-10 w-10 rounded-lg bg-gradient-to-r from-blue-100 to-blue-50 flex items-center justify-center\">\r\n                                <DocumentTextIcon className=\"h-5 w-5 text-[#1877F2]\" />\r\n                              </div>\r\n                              <div>\r\n                                <div className=\"font-medium text-gray-900 hover:text-[#1877F2] transition-colors cursor-pointer\">\r\n                                  {item.document_name}\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-500 mt-1 flex items-center gap-1\">\r\n                                  <CalendarIcon className=\"h-3 w-3\" />\r\n                                  ID: {item.id}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium\">\r\n                                {item.version_old_label}\r\n                              </span>\r\n                              <ArrowRightIconOutline className=\"h-4 w-4 text-gray-400\" />\r\n                              <span className=\"px-3 py-1.5 bg-purple-50 text-purple-700 rounded-lg text-sm font-medium\">\r\n                                {item.version_new_label}\r\n                              </span>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"p-4\">\r\n                            <div className=\"text-sm text-gray-900\">{formatDate(item.created_at)}</div>\r\n                          </td>\r\n                          <td className=\"p-4\">\r\n                            <RiskBadge risk={item.overall_risk_level} item={item} />\r\n                          </td>\r\n                          <td className=\"p-4\">\r\n                            <div className=\"flex gap-2\">\r\n                              <Link\r\n                                href={`/compare/${item.id}`}\r\n                                className=\"p-2.5 text-gray-600 hover:text-[#1877F2] hover:bg-blue-50 rounded-xl transition-all\"\r\n                                title=\"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î\"\r\n                              >\r\n                                <EyeIcon className=\"h-4 w-4\" />\r\n                              </Link>\r\n                              <button\r\n                                onClick={() => deleteItem(item.id)}\r\n                                disabled={deletingId === item.id}\r\n                                className=\"p-2.5 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all disabled:opacity-50\"\r\n                                title=\"‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\"\r\n                              >\r\n                                {deletingId === item.id ? (\r\n                                  <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n                                ) : (\r\n                                  <TrashIcon className=\"h-4 w-4\" />\r\n                                )}\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n\r\n              {/* Table Footer */}\r\n              {!loading && !error && filteredAndSortedItems.length > 0 && (\r\n                <div className=\"p-5 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white\">\r\n                  <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      ‡πÅ‡∏™‡∏î‡∏á <span className=\"font-bold text-[#1877F2]\">{filteredAndSortedItems.length}</span> ‡∏à‡∏≤‡∏Å <span className=\"font-bold text-gray-900\">{items.length}</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600 flex items-center gap-2\">\r\n                      <span>‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°</span>\r\n                      <span className=\"font-medium text-gray-900\">{sortField}</span>\r\n                      <span className=\"text-gray-400\">‚Ä¢</span>\r\n                      <span>{sortDirection === \"desc\" ? \"‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏õ‡πÄ‡∏Å‡πà‡∏≤\" : \"‡πÄ‡∏Å‡πà‡∏≤‡πÑ‡∏õ‡πÉ‡∏´‡∏°‡πà\"}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"mt-8 pt-8 border-t border-gray-200 text-center\">\r\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4\">\r\n            <div className=\"text-gray-500 text-sm\">\r\n              ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‚Ä¢ v2.0\r\n            </div>\r\n            <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n              <span className=\"flex items-center gap-1\">\r\n                <SparklesIcon className=\"h-4 w-4\" />\r\n                Powered by AI Analysis\r\n              </span>\r\n              <span>‚Ä¢</span>\r\n              <span>¬© 2024 Document Risk Analyzer</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}
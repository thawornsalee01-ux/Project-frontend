{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/compare/%5Bid%5D/page.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import { useParams } from \"next/navigation\";\r\n// import { useEffect, useMemo, useState } from \"react\";\r\n// import Link from \"next/link\";\r\n// import {\r\n//   ArrowLeftIcon,\r\n//   DocumentTextIcon,\r\n//   ClockIcon,\r\n//   ArrowPathIcon,\r\n//   ExclamationTriangleIcon,\r\n//   DocumentMagnifyingGlassIcon,\r\n//   SparklesIcon,\r\n//   LightBulbIcon,\r\n//   ClipboardIcon,\r\n//   FunnelIcon,\r\n//   MagnifyingGlassIcon,\r\n//   ChatBubbleLeftRightIcon,\r\n//   PaperAirplaneIcon,\r\n// } from \"@heroicons/react/24/outline\";\r\n\r\n// type ChangeType = \"ADDED\" | \"REMOVED\" | \"MODIFIED\";\r\n// type RiskLevel = \"LOW\" | \"MEDIUM\" | \"HIGH\";\r\n// type AiMode = \"short\" | \"detailed\" | \"legal\" | \"risk\";\r\n\r\n// type ChangeItem = {\r\n//   id: number;\r\n//   change_type: ChangeType;\r\n//   section_label: string | null;\r\n//   old_text: string | null;\r\n//   new_text: string | null;\r\n//   risk_level?: RiskLevel | null;\r\n//   ai_comment?: string | null;\r\n//   ai_suggestion?: string | null;\r\n//   risk_reason?: string | null;\r\n// };\r\n\r\n// type ComparisonDetail = {\r\n//   id: number;\r\n//   document_name: string;\r\n//   version_old_label: string;\r\n//   version_new_label: string;\r\n//   created_at: string;\r\n//   overall_risk_level?: string | null;\r\n//   summary_text?: string | null;\r\n//   changes: ChangeItem[];\r\n// };\r\n\r\n// // ------------------------ helpers ------------------------\r\n\r\n// function normalizeText(s?: string | null) {\r\n//   return (s || \"\").toString().trim();\r\n// }\r\n\r\n// function riskRank(level?: string | null) {\r\n//   const lv = (level || \"LOW\").toUpperCase();\r\n//   if (lv === \"HIGH\") return 3;\r\n//   if (lv === \"MEDIUM\") return 2;\r\n//   return 1;\r\n// }\r\n\r\n// function contains(hay: string, needle: string) {\r\n//   return hay.toLowerCase().includes(needle.toLowerCase());\r\n// }\r\n\r\n// function formatDateTime(iso: string) {\r\n//   try {\r\n//     return new Date(iso).toLocaleString(\"th-TH\", {\r\n//       year: \"numeric\",\r\n//       month: \"short\",\r\n//       day: \"numeric\",\r\n//       hour: \"2-digit\",\r\n//       minute: \"2-digit\",\r\n//     });\r\n//   } catch {\r\n//     return iso;\r\n//   }\r\n// }\r\n\r\n// function riskBadge(risk?: string | null) {\r\n//   const base = \"px-2 py-1 rounded-full text-xs font-semibold\";\r\n//   const level = (risk || \"LOW\").toUpperCase();\r\n\r\n//   if (level === \"HIGH\")\r\n//     return <span className={`${base} bg-red-100 text-red-700`}>HIGH</span>;\r\n//   if (level === \"MEDIUM\")\r\n//     return <span className={`${base} bg-amber-100 text-amber-700`}>MEDIUM</span>;\r\n//   return <span className={`${base} bg-emerald-100 text-emerald-700`}>LOW</span>;\r\n// }\r\n\r\n// function changeTypeBadge(type: string) {\r\n//   const base = \"px-2 py-1 rounded text-xs font-medium\";\r\n//   if (type === \"ADDED\")\r\n//     return (\r\n//       <span className={`${base} bg-emerald-100 text-emerald-700`}>+ ADDED</span>\r\n//     );\r\n//   if (type === \"REMOVED\")\r\n//     return (\r\n//       <span className={`${base} bg-red-100 text-red-700`}>- REMOVED</span>\r\n//     );\r\n//   return (\r\n//     <span className={`${base} bg-amber-100 text-amber-700`}>MODIFIED</span>\r\n//   );\r\n// }\r\n\r\n// async function copyToClipboard(text: string) {\r\n//   try {\r\n//     await navigator.clipboard.writeText(text);\r\n//     return true;\r\n//   } catch {\r\n//     try {\r\n//       const el = document.createElement(\"textarea\");\r\n//       el.value = text;\r\n//       document.body.appendChild(el);\r\n//       el.select();\r\n//       document.execCommand(\"copy\");\r\n//       document.body.removeChild(el);\r\n//       return true;\r\n//     } catch {\r\n//       return false;\r\n//     }\r\n//   }\r\n// }\r\n\r\n// function CopyButton({\r\n//   text,\r\n//   label = \"Copy\",\r\n//   className = \"\",\r\n//   onCopied,\r\n// }: {\r\n//   text: string;\r\n//   label?: string;\r\n//   className?: string;\r\n//   onCopied?: (ok: boolean) => void;\r\n// }) {\r\n//   const disabled = !text || text.trim().length === 0;\r\n//   return (\r\n//     <button\r\n//       type=\"button\"\r\n//       disabled={disabled}\r\n//       onClick={async () => {\r\n//         const ok = await copyToClipboard(text);\r\n//         onCopied?.(ok);\r\n//       }}\r\n//       className={[\r\n//         \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs border font-semibold\",\r\n//         disabled\r\n//           ? \"opacity-50 cursor-not-allowed border-slate-200 text-slate-400\"\r\n//           : \"border-slate-200 text-slate-900 hover:bg-slate-50\",\r\n//         className,\r\n//       ].join(\" \")}\r\n//       title={disabled ? \"ไม่มีข้อความให้คัดลอก\" : \"คัดลอกไป clipboard\"}\r\n//     >\r\n//       <ClipboardIcon className=\"h-4 w-4\" />\r\n//       {label}\r\n//     </button>\r\n//   );\r\n// }\r\n\r\n// function ExpandableText({\r\n//   text,\r\n//   emptyText,\r\n//   tone = \"neutral\",\r\n// }: {\r\n//   text: string | null | undefined;\r\n//   emptyText: string;\r\n//   tone?: \"old\" | \"new\" | \"aiComment\" | \"aiSuggestion\" | \"neutral\";\r\n// }) {\r\n//   const raw = normalizeText(text);\r\n//   const [expanded, setExpanded] = useState(false);\r\n\r\n//   const THRESHOLD = 520;\r\n//   const isLong = raw.length > THRESHOLD;\r\n//   const shown = expanded || !isLong ? raw : raw.slice(0, THRESHOLD) + \"…\";\r\n\r\n//   const baseText =\r\n//     tone === \"old\"\r\n//       ? \"text-red-900\"\r\n//       : tone === \"new\"\r\n//       ? \"text-emerald-900\"\r\n//       : tone === \"aiComment\"\r\n//       ? \"text-blue-900\"\r\n//       : tone === \"aiSuggestion\"\r\n//       ? \"text-amber-900\"\r\n//       : \"text-slate-900\";\r\n\r\n//   return (\r\n//     <div>\r\n//       <p className={`text-sm whitespace-pre-wrap ${baseText}`}>\r\n//         {raw.length > 0 ? shown : emptyText}\r\n//       </p>\r\n\r\n//       {isLong && (\r\n//         <button\r\n//           type=\"button\"\r\n//           onClick={() => setExpanded((v) => !v)}\r\n//           className=\"mt-2 text-xs font-semibold text-slate-900 underline underline-offset-2\"\r\n//         >\r\n//           {expanded ? \"ย่อข้อความ\" : \"ดูเพิ่ม\"}\r\n//         </button>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// // ------------------------ main page ------------------------\r\n\r\n// type ChatState = {\r\n//   open: boolean;\r\n//   mode: AiMode;\r\n//   question: string;\r\n//   loading: boolean;\r\n//   answer: string;\r\n//   error: string | null;\r\n// };\r\n\r\n// const API_BASE = \"http://127.0.0.1:8000\";\r\n\r\n// export default function CompareDetailPage() {\r\n//   const params = useParams();\r\n//   const id = params.id as string;\r\n\r\n//   const [detail, setDetail] = useState<ComparisonDetail | null>(null);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState<string | null>(null);\r\n\r\n//   const [annotating, setAnnotating] = useState(false);\r\n//   const [annotateError, setAnnotateError] = useState<string | null>(null);\r\n\r\n//   // Filters\r\n//   const [q, setQ] = useState(\"\");\r\n//   const [riskFilter, setRiskFilter] = useState<\"ALL\" | RiskLevel>(\"ALL\");\r\n//   const [typeFilter, setTypeFilter] = useState<\"ALL\" | ChangeType>(\"ALL\");\r\n//   const [onlyNoAI, setOnlyNoAI] = useState(false);\r\n//   const [sortMode, setSortMode] = useState<\r\n//     \"RISK_DESC\" | \"RISK_ASC\" | \"ID_DESC\" | \"ID_ASC\"\r\n//   >(\"RISK_DESC\");\r\n\r\n//   // UI feedback\r\n//   const [toast, setToast] = useState<string | null>(null);\r\n\r\n//   // Chat ต่อ change\r\n//   const [chatById, setChatById] = useState<Record<number, ChatState>>({});\r\n\r\n//   useEffect(() => {\r\n//     if (id) loadDetail();\r\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n//   }, [id]);\r\n\r\n//   useEffect(() => {\r\n//     if (!toast) return;\r\n//     const t = setTimeout(() => setToast(null), 1600);\r\n//     return () => clearTimeout(t);\r\n//   }, [toast]);\r\n\r\n//   const loadDetail = async () => {\r\n//     setLoading(true);\r\n//     setError(null);\r\n//     try {\r\n//       const res = await fetch(`${API_BASE}/comparisons/${id}`, {\r\n//         cache: \"no-store\",\r\n//       });\r\n//       if (!res.ok) throw new Error(`Failed to load (${res.status})`);\r\n//       const data: ComparisonDetail = await res.json();\r\n//       setDetail(data);\r\n\r\n//       // init chat state สำหรับ change ใหม่ ๆ\r\n//       setChatById((prev) => {\r\n//         const next = { ...prev };\r\n//         for (const ch of data.changes || []) {\r\n//           if (!next[ch.id]) {\r\n//             next[ch.id] = {\r\n//               open: false,\r\n//               mode: \"risk\",\r\n//               question: \"\",\r\n//               loading: false,\r\n//               answer: \"\",\r\n//               error: null,\r\n//             };\r\n//           }\r\n//         }\r\n//         return next;\r\n//       });\r\n//     } catch (err: any) {\r\n//       setError(err?.message || \"โหลดข้อมูลไม่สำเร็จ\");\r\n//       setDetail(null);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleAnnotate = async () => {\r\n//     if (!id) return;\r\n//     setAnnotating(true);\r\n//     setAnnotateError(null);\r\n\r\n//     try {\r\n//       const res = await fetch(`${API_BASE}/comparisons/${id}/annotate`, {\r\n//         method: \"POST\",\r\n//       });\r\n//       if (!res.ok) throw new Error(`Annotation failed (${res.status})`);\r\n\r\n//       await loadDetail();\r\n//       setToast(\"✅ วิเคราะห์เสร็จแล้ว\");\r\n//     } catch (err: any) {\r\n//       setAnnotateError(err?.message || \"วิเคราะห์ไม่สำเร็จ\");\r\n//     } finally {\r\n//       setAnnotating(false);\r\n//     }\r\n//   };\r\n\r\n//   const toggleChat = (changeId: number) => {\r\n//     setChatById((prev) => ({\r\n//       ...prev,\r\n//       [changeId]: {\r\n//         ...(prev[changeId] || {\r\n//           open: true,\r\n//           mode: \"risk\",\r\n//           question: \"\",\r\n//           loading: false,\r\n//           answer: \"\",\r\n//           error: null,\r\n//         }),\r\n//         open: !(prev[changeId]?.open ?? false),\r\n//         error: null,\r\n//       },\r\n//     }));\r\n//   };\r\n\r\n//   const setChatField = (\r\n//     changeId: number,\r\n//     patch: Partial<Pick<ChatState, \"mode\" | \"question\">>\r\n//   ) => {\r\n//     setChatById((prev) => ({\r\n//       ...prev,\r\n//       [changeId]: {\r\n//         ...(prev[changeId] || {\r\n//           open: true,\r\n//           mode: \"risk\",\r\n//           question: \"\",\r\n//           loading: false,\r\n//           answer: \"\",\r\n//           error: null,\r\n//         }),\r\n//         ...patch,\r\n//       },\r\n//     }));\r\n//   };\r\n\r\n//   const sendChat = async (changeId: number) => {\r\n//     const st = chatById[changeId];\r\n//     const question = normalizeText(st?.question);\r\n//     const mode = (st?.mode || \"risk\") as AiMode;\r\n\r\n//     if (!question) {\r\n//       setChatById((prev) => ({\r\n//         ...prev,\r\n//         [changeId]: { ...prev[changeId], error: \"พิมพ์คำถามก่อนครับ\" },\r\n//       }));\r\n//       return;\r\n//     }\r\n\r\n//     setChatById((prev) => ({\r\n//       ...prev,\r\n//       [changeId]: { ...prev[changeId], loading: true, error: null },\r\n//     }));\r\n\r\n//     try {\r\n//       const res = await fetch(`${API_BASE}/changes/${changeId}/chat`, {\r\n//         method: \"POST\",\r\n//         headers: { \"Content-Type\": \"application/json\" },\r\n//         body: JSON.stringify({ question, mode }),\r\n//       });\r\n\r\n//       if (!res.ok) throw new Error(`Chat failed (${res.status})`);\r\n//       const data = await res.json(); // {ok, change_id, mode, answer}\r\n\r\n//       setChatById((prev) => ({\r\n//         ...prev,\r\n//         [changeId]: {\r\n//           ...prev[changeId],\r\n//           loading: false,\r\n//           answer: normalizeText(data?.answer) || \"\",\r\n//           error: null,\r\n//         },\r\n//       }));\r\n//       setToast(\"✅ ได้คำตอบแล้ว\");\r\n//     } catch (e: any) {\r\n//       setChatById((prev) => ({\r\n//         ...prev,\r\n//         [changeId]: {\r\n//           ...prev[changeId],\r\n//           loading: false,\r\n//           error: e?.message || \"ส่งคำถามไม่สำเร็จ\",\r\n//         },\r\n//       }));\r\n//     }\r\n//   };\r\n\r\n//   const filteredChanges = useMemo(() => {\r\n//     const changes = detail?.changes || [];\r\n//     const query = q.trim();\r\n\r\n//     let list = changes.filter((c) => {\r\n//       if (riskFilter !== \"ALL\") {\r\n//         const lv = (c.risk_level || \"LOW\").toUpperCase();\r\n//         if (lv !== riskFilter) return false;\r\n//       }\r\n\r\n//       if (typeFilter !== \"ALL\") {\r\n//         if (c.change_type !== typeFilter) return false;\r\n//       }\r\n\r\n//       if (onlyNoAI) {\r\n//         const hasComment = normalizeText(c.ai_comment).length > 0;\r\n//         const hasSuggest = normalizeText(c.ai_suggestion).length > 0;\r\n//         if (hasComment && hasSuggest) return false;\r\n//       }\r\n\r\n//       if (query.length > 0) {\r\n//         const hay = [\r\n//           c.section_label,\r\n//           c.old_text,\r\n//           c.new_text,\r\n//           c.ai_comment,\r\n//           c.ai_suggestion,\r\n//           c.risk_reason,\r\n//           c.change_type,\r\n//           c.risk_level,\r\n//         ]\r\n//           .map((x) => normalizeText(x as any))\r\n//           .join(\" | \");\r\n\r\n//         if (!contains(hay, query)) return false;\r\n//       }\r\n\r\n//       return true;\r\n//     });\r\n\r\n//     list = [...list].sort((a, b) => {\r\n//       if (sortMode === \"RISK_DESC\") {\r\n//         const r = riskRank(b.risk_level) - riskRank(a.risk_level);\r\n//         if (r !== 0) return r;\r\n//         return b.id - a.id;\r\n//       }\r\n//       if (sortMode === \"RISK_ASC\") {\r\n//         const r = riskRank(a.risk_level) - riskRank(b.risk_level);\r\n//         if (r !== 0) return r;\r\n//         return a.id - b.id;\r\n//       }\r\n//       if (sortMode === \"ID_ASC\") return a.id - b.id;\r\n//       return b.id - a.id;\r\n//     });\r\n\r\n//     return list;\r\n//   }, [detail?.changes, q, riskFilter, typeFilter, onlyNoAI, sortMode]);\r\n\r\n//   const totalCount = detail?.changes?.length || 0;\r\n//   const shownCount = filteredChanges.length;\r\n\r\n//   // ---------- Loading / Not found ----------\r\n//   if (loading) {\r\n//     return (\r\n//       <div className=\"max-w-6xl mx-auto\">\r\n//         <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-10 text-center\">\r\n//           <ArrowPathIcon className=\"h-12 w-12 animate-spin text-blue-600 mx-auto\" />\r\n//           <p className=\"mt-4 text-slate-900 font-semibold\">\r\n//             กำลังโหลดรายละเอียด...\r\n//           </p>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (error || !detail) {\r\n//     return (\r\n//       <div className=\"max-w-6xl mx-auto\">\r\n//         <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-10 text-center\">\r\n//           <ExclamationTriangleIcon className=\"h-12 w-12 text-red-500 mx-auto\" />\r\n//           <h2 className=\"text-xl font-bold text-slate-900 mt-4\">ไม่พบข้อมูล</h2>\r\n//           <p className=\"text-slate-900 mt-2 font-semibold\">\r\n//             {error || \"ไม่พบรายการเปรียบเทียบนี้\"}\r\n//           </p>\r\n//           <div className=\"mt-6 flex flex-col sm:flex-row gap-3 justify-center\">\r\n//             <Link\r\n//               href=\"/history\"\r\n//               className=\"px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 text-slate-900 font-semibold\"\r\n//             >\r\n//               ← กลับไปหน้าประวัติ\r\n//             </Link>\r\n//             <button\r\n//               onClick={loadDetail}\r\n//               className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold\"\r\n//             >\r\n//               ลองอีกครั้ง\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   // ---------- Main ----------\r\n//   return (\r\n//     <div className=\"max-w-6xl mx-auto text-slate-900\">\r\n//       {/* Toast */}\r\n//       {toast && (\r\n//         <div className=\"fixed top-4 right-4 z-50 bg-slate-900 text-white text-sm px-4 py-2 rounded-lg shadow-lg font-semibold\">\r\n//           {toast}\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Header */}\r\n//       <div className=\"mb-8\">\r\n//         <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-6\">\r\n//           <Link\r\n//             href=\"/history\"\r\n//             className=\"inline-flex items-center gap-2 text-slate-900 font-semibold hover:opacity-90\"\r\n//           >\r\n//             <ArrowLeftIcon className=\"h-5 w-5\" />\r\n//             กลับไปหน้าประวัติ\r\n//           </Link>\r\n\r\n//           <div className=\"flex items-center gap-3\">\r\n//             <button\r\n//               onClick={handleAnnotate}\r\n//               disabled={annotating}\r\n//               className=\"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:opacity-90 disabled:opacity-70\"\r\n//             >\r\n//               {annotating ? (\r\n//                 <>\r\n//                   <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n//                   กำลังวิเคราะห์...\r\n//                 </>\r\n//               ) : (\r\n//                 <>\r\n//                   <SparklesIcon className=\"h-4 w-4\" />\r\n//                   ให้ AI วิเคราะห์ใหม่\r\n//                 </>\r\n//               )}\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n\r\n//         {/* Document Info Card */}\r\n//         <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-6\">\r\n//           <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-6\">\r\n//             <div className=\"flex-1\">\r\n//               <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900 mb-2\">\r\n//                 {detail.document_name}\r\n//               </h1>\r\n//               <div className=\"flex flex-wrap items-center gap-4 text-slate-900 font-semibold\">\r\n//                 <div className=\"flex items-center gap-2\">\r\n//                   <span className=\"px-2 py-1 bg-violet-100 text-violet-800 text-sm rounded font-semibold\">\r\n//                     {detail.version_old_label}\r\n//                   </span>\r\n//                   <span className=\"text-slate-900\">→</span>\r\n//                   <span className=\"px-2 py-1 bg-fuchsia-100 text-fuchsia-800 text-sm rounded font-semibold\">\r\n//                     {detail.version_new_label}\r\n//                   </span>\r\n//                 </div>\r\n//                 <div className=\"flex items-center gap-2\">\r\n//                   <ClockIcon className=\"h-4 w-4\" />\r\n//                   {formatDateTime(detail.created_at)}\r\n//                 </div>\r\n//                 <div className=\"text-sm\">ID: {detail.id}</div>\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div className=\"flex flex-col items-end gap-3\">\r\n//               <div className=\"text-right\">\r\n//                 <div className=\"text-sm text-slate-900 font-semibold mb-1\">\r\n//                   ระดับความเสี่ยง\r\n//                 </div>\r\n//                 <div\r\n//                   className={`text-lg font-bold ${\r\n//                     detail.overall_risk_level?.includes(\"HIGH\")\r\n//                       ? \"text-red-700\"\r\n//                       : detail.overall_risk_level?.includes(\"MEDIUM\")\r\n//                       ? \"text-amber-700\"\r\n//                       : \"text-emerald-700\"\r\n//                   }`}\r\n//                 >\r\n//                   {detail.overall_risk_level || \"ไม่ระบุ\"}\r\n//                 </div>\r\n//               </div>\r\n//               <div className=\"text-right\">\r\n//                 <div className=\"text-sm text-slate-900 font-semibold mb-1\">\r\n//                   การเปลี่ยนแปลง\r\n//                 </div>\r\n//                 <div className=\"text-lg font-bold text-blue-700\">\r\n//                   {totalCount} จุด\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//           {/* AI Annotate Error */}\r\n//           {annotateError && (\r\n//             <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n//               <p className=\"text-sm text-red-800 flex items-center gap-2 font-semibold\">\r\n//                 <ExclamationTriangleIcon className=\"h-4 w-4 flex-shrink-0\" />\r\n//                 {annotateError}\r\n//               </p>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Summary Section */}\r\n//       <div className=\"mb-8\">\r\n//         <div className=\"bg-white rounded-xl border border-slate-200 p-6\">\r\n//           <h2 className=\"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2\">\r\n//             <DocumentTextIcon className=\"h-6 w-6 text-blue-700\" />\r\n//             สรุปผลการเปรียบเทียบ\r\n//           </h2>\r\n//           <div className=\"prose max-w-none\">\r\n//             <p className=\"text-slate-900 whitespace-pre-line leading-relaxed font-semibold\">\r\n//               {detail.summary_text || \"ไม่มีข้อความสรุปสำหรับการเปรียบเทียบนี้\"}\r\n//             </p>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Filters */}\r\n//       <div className=\"mb-6\">\r\n//         <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\r\n//           <div className=\"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4\">\r\n//             {/* Search */}\r\n//             <div className=\"flex-1\">\r\n//               <div className=\"relative\">\r\n//                 <MagnifyingGlassIcon className=\"h-5 w-5 text-slate-600 absolute left-3 top-1/2 -translate-y-1/2\" />\r\n//                 <input\r\n//                   value={q}\r\n//                   onChange={(e) => setQ(e.target.value)}\r\n//                   placeholder=\"ค้นหา: หัวข้อ / old / new / AI comment / AI suggestion ...\"\r\n//                   className=\"w-full pl-10 pr-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-slate-900 font-semibold placeholder:text-slate-400\"\r\n//                 />\r\n//               </div>\r\n//             </div>\r\n\r\n//             {/* Risk/type/sort */}\r\n//             <div className=\"flex items-center gap-2\">\r\n//               <FunnelIcon className=\"h-5 w-5 text-slate-900\" />\r\n\r\n//               <select\r\n//                 value={riskFilter}\r\n//                 onChange={(e) => setRiskFilter(e.target.value as any)}\r\n//                 className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n//               >\r\n//                 <option value=\"ALL\">Risk: ทั้งหมด</option>\r\n//                 <option value=\"HIGH\">Risk: HIGH</option>\r\n//                 <option value=\"MEDIUM\">Risk: MEDIUM</option>\r\n//                 <option value=\"LOW\">Risk: LOW</option>\r\n//               </select>\r\n\r\n//               <select\r\n//                 value={typeFilter}\r\n//                 onChange={(e) => setTypeFilter(e.target.value as any)}\r\n//                 className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n//               >\r\n//                 <option value=\"ALL\">Type: ทั้งหมด</option>\r\n//                 <option value=\"ADDED\">ADDED</option>\r\n//                 <option value=\"REMOVED\">REMOVED</option>\r\n//                 <option value=\"MODIFIED\">MODIFIED</option>\r\n//               </select>\r\n\r\n//               <select\r\n//                 value={sortMode}\r\n//                 onChange={(e) => setSortMode(e.target.value as any)}\r\n//                 className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n//               >\r\n//                 <option value=\"RISK_DESC\">เรียง: Risk สูง → ต่ำ</option>\r\n//                 <option value=\"RISK_ASC\">เรียง: Risk ต่ำ → สูง</option>\r\n//                 <option value=\"ID_DESC\">เรียง: ID ใหม่ → เก่า</option>\r\n//                 <option value=\"ID_ASC\">เรียง: ID เก่า → ใหม่</option>\r\n//               </select>\r\n//             </div>\r\n\r\n//             {/* Only missing AI */}\r\n//             <label className=\"inline-flex items-center gap-2 text-sm text-slate-900 font-semibold select-none\">\r\n//               <input\r\n//                 type=\"checkbox\"\r\n//                 checked={onlyNoAI}\r\n//                 onChange={(e) => setOnlyNoAI(e.target.checked)}\r\n//                 className=\"h-4 w-4 rounded border-slate-300\"\r\n//               />\r\n//               เฉพาะที่ AI ยังไม่ครบ\r\n//             </label>\r\n\r\n//             {/* Count */}\r\n//             <div className=\"text-sm text-slate-900 font-semibold\">\r\n//               แสดง <span className=\"font-bold text-slate-900\">{shownCount}</span> /{\" \"}\r\n//               {totalCount}\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Changes List */}\r\n//       <div className=\"space-y-6\">\r\n//         <h2 className=\"text-xl font-bold text-slate-900 flex items-center gap-2\">\r\n//           <DocumentMagnifyingGlassIcon className=\"h-6 w-6 text-violet-700\" />\r\n//           รายการการเปลี่ยนแปลง ({shownCount} รายการ)\r\n//         </h2>\r\n\r\n//         {shownCount === 0 ? (\r\n//           <div className=\"bg-white rounded-xl border border-slate-200 p-6 text-slate-900 font-semibold\">\r\n//             ไม่พบรายการตามเงื่อนไขที่เลือก\r\n//           </div>\r\n//         ) : (\r\n//           <div className=\"space-y-4\">\r\n//             {filteredChanges.map((change) => {\r\n//               const oldText = normalizeText(change.old_text);\r\n//               const newText = normalizeText(change.new_text);\r\n//               const aiComment = normalizeText(change.ai_comment);\r\n//               const aiSuggest = normalizeText(change.ai_suggestion);\r\n\r\n//               const chat = chatById[change.id] || {\r\n//                 open: false,\r\n//                 mode: \"risk\" as AiMode,\r\n//                 question: \"\",\r\n//                 loading: false,\r\n//                 answer: \"\",\r\n//                 error: null,\r\n//               };\r\n\r\n//               return (\r\n//                 <div\r\n//                   key={change.id}\r\n//                   className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\"\r\n//                 >\r\n//                   {/* Change Header */}\r\n//                   <div className=\"border-b border-slate-100 p-4 bg-slate-50 flex flex-wrap items-center justify-between gap-3\">\r\n//                     <div className=\"flex items-center gap-3\">\r\n//                       {changeTypeBadge(change.change_type)}\r\n//                       <span className=\"text-sm font-bold text-slate-900\">\r\n//                         {change.section_label || \"ไม่มีหัวข้อ\"}\r\n//                       </span>\r\n//                     </div>\r\n//                     <div className=\"flex items-center gap-3\">\r\n//                       {riskBadge(change.risk_level)}\r\n//                       <span className=\"text-xs text-slate-900 font-semibold\">\r\n//                         ID: {change.id}\r\n//                       </span>\r\n//                     </div>\r\n//                   </div>\r\n\r\n//                   {/* Change Content */}\r\n//                   <div className=\"p-4\">\r\n//                     <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\r\n//                       {/* Old Text */}\r\n//                       <div>\r\n//                         <div className=\"flex items-center justify-between mb-2\">\r\n//                           <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n//                             <span className=\"h-2 w-2 rounded-full bg-red-500\"></span>\r\n//                             เวอร์ชันเก่า\r\n//                           </div>\r\n//                           <CopyButton\r\n//                             text={oldText}\r\n//                             label=\"Copy old\"\r\n//                             onCopied={(ok) =>\r\n//                               setToast(ok ? \"คัดลอก old แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n//                             }\r\n//                           />\r\n//                         </div>\r\n//                         <div className=\"bg-red-50 border border-red-100 rounded-lg p-3\">\r\n//                           <div className=\"line-through\">\r\n//                             <ExpandableText\r\n//                               text={change.old_text}\r\n//                               emptyText=\"ไม่มีข้อความ\"\r\n//                               tone=\"old\"\r\n//                             />\r\n//                           </div>\r\n//                         </div>\r\n//                       </div>\r\n\r\n//                       {/* New Text */}\r\n//                       <div>\r\n//                         <div className=\"flex items-center justify-between mb-2\">\r\n//                           <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n//                             <span className=\"h-2 w-2 rounded-full bg-emerald-500\"></span>\r\n//                             เวอร์ชันใหม่\r\n//                           </div>\r\n//                           <CopyButton\r\n//                             text={newText}\r\n//                             label=\"Copy new\"\r\n//                             onCopied={(ok) =>\r\n//                               setToast(ok ? \"คัดลอก new แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n//                             }\r\n//                           />\r\n//                         </div>\r\n//                         <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-3\">\r\n//                           <ExpandableText\r\n//                             text={change.new_text}\r\n//                             emptyText=\"ไม่มีข้อความ\"\r\n//                             tone=\"new\"\r\n//                           />\r\n//                         </div>\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     {/* AI Insights */}\r\n//                     <div className=\"grid md:grid-cols-2 gap-4\">\r\n//                       {/* AI Comment */}\r\n//                       <div>\r\n//                         <div className=\"flex items-center justify-between mb-2\">\r\n//                           <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n//                             <span className=\"h-2 w-2 rounded-full bg-blue-500\"></span>\r\n//                             ความคิดเห็นจาก AI\r\n//                           </div>\r\n//                           <CopyButton\r\n//                             text={aiComment}\r\n//                             label=\"Copy comment\"\r\n//                             onCopied={(ok) =>\r\n//                               setToast(ok ? \"คัดลอก comment แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n//                             }\r\n//                           />\r\n//                         </div>\r\n//                         <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-3\">\r\n//                           <ExpandableText\r\n//                             text={change.ai_comment}\r\n//                             emptyText=\"AI ยังไม่ได้แสดงความคิดเห็น\"\r\n//                             tone=\"aiComment\"\r\n//                           />\r\n//                         </div>\r\n\r\n//                         {normalizeText(change.risk_reason).length > 0 && (\r\n//                           <div className=\"mt-2 text-xs text-slate-900 font-semibold\">\r\n//                             <span className=\"font-bold\">เหตุผลความเสี่ยง:</span>{\" \"}\r\n//                             {change.risk_reason}\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n\r\n//                       {/* AI Suggestion */}\r\n//                       <div>\r\n//                         <div className=\"flex items-center justify-between mb-2\">\r\n//                           <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n//                             <LightBulbIcon className=\"h-4 w-4 text-amber-600\" />\r\n//                             คำแนะนำจาก AI\r\n//                           </div>\r\n//                           <CopyButton\r\n//                             text={aiSuggest}\r\n//                             label=\"Copy suggestion\"\r\n//                             onCopied={(ok) =>\r\n//                               setToast(\r\n//                                 ok ? \"คัดลอก suggestion แล้ว\" : \"คัดลอกไม่สำเร็จ\"\r\n//                               )\r\n//                             }\r\n//                           />\r\n//                         </div>\r\n//                         <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-3\">\r\n//                           <ExpandableText\r\n//                             text={change.ai_suggestion}\r\n//                             emptyText=\"AI ยังไม่ได้ให้คำแนะนำ\"\r\n//                             tone=\"aiSuggestion\"\r\n//                           />\r\n//                         </div>\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     {/* Chat ต่อ change */}\r\n//                     <div className=\"mt-4\">\r\n//                       <button\r\n//                         type=\"button\"\r\n//                         onClick={() => toggleChat(change.id)}\r\n//                         className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-slate-900 font-semibold\"\r\n//                       >\r\n//                         <ChatBubbleLeftRightIcon className=\"h-5 w-5\" />\r\n//                         ถาม AI เพิ่มเติม\r\n//                         <span className=\"text-xs font-bold text-slate-900\">\r\n//                           {chat.open ? \"▲\" : \"▼\"}\r\n//                         </span>\r\n//                       </button>\r\n\r\n//                       {chat.open && (\r\n//                         <div className=\"mt-3 rounded-xl border border-slate-200 bg-white p-4\">\r\n//                           <div className=\"flex flex-col lg:flex-row gap-3 lg:items-center\">\r\n//                             <div className=\"flex items-center gap-2\">\r\n//                               <span className=\"text-sm font-bold text-slate-900\">\r\n//                                 โหมด:\r\n//                               </span>\r\n//                               <select\r\n//                                 value={chat.mode}\r\n//                                 onChange={(e) =>\r\n//                                   setChatField(change.id, {\r\n//                                     mode: e.target.value as AiMode,\r\n//                                   })\r\n//                                 }\r\n//                                 className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n//                               >\r\n//                                 <option value=\"risk\">Risk</option>\r\n//                                 <option value=\"short\">Short</option>\r\n//                                 <option value=\"detailed\">Detailed</option>\r\n//                                 <option value=\"legal\">Legal</option>\r\n//                               </select>\r\n//                             </div>\r\n\r\n//                             <div className=\"flex-1\" />\r\n//                             <CopyButton\r\n//                               text={chat.answer}\r\n//                               label=\"Copy answer\"\r\n//                               onCopied={(ok) =>\r\n//                                 setToast(ok ? \"คัดลอกคำตอบแล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n//                               }\r\n//                             />\r\n//                           </div>\r\n\r\n//                           <div className=\"mt-3\">\r\n//                             <textarea\r\n//                               value={chat.question}\r\n//                               onChange={(e) =>\r\n//                                 setChatField(change.id, { question: e.target.value })\r\n//                               }\r\n//                               placeholder=\"พิมพ์คำถามเกี่ยวกับ change นี้ (อ้างอิง Old/New/AI เท่านั้น)\"\r\n//                               rows={3}\r\n//                               className=\"w-full rounded-lg border border-slate-200 bg-white p-3 text-sm text-slate-900 font-semibold placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n//                             />\r\n//                           </div>\r\n\r\n//                           {chat.error && (\r\n//                             <div className=\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-800 font-semibold\">\r\n//                               {chat.error}\r\n//                             </div>\r\n//                           )}\r\n\r\n//                           <div className=\"mt-3 flex gap-2\">\r\n//                             <button\r\n//                               type=\"button\"\r\n//                               onClick={() => sendChat(change.id)}\r\n//                               disabled={\r\n//                                 chat.loading || normalizeText(chat.question).length === 0\r\n//                               }\r\n//                               className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-700 text-white font-semibold hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n//                             >\r\n//                               {chat.loading ? (\r\n//                                 <>\r\n//                                   <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n//                                   กำลังส่ง...\r\n//                                 </>\r\n//                               ) : (\r\n//                                 <>\r\n//                                   <PaperAirplaneIcon className=\"h-4 w-4\" />\r\n//                                   ส่งคำถาม\r\n//                                 </>\r\n//                               )}\r\n//                             </button>\r\n\r\n//                             <button\r\n//                               type=\"button\"\r\n//                               onClick={() =>\r\n//                                 setChatById((prev) => ({\r\n//                                   ...prev,\r\n//                                   [change.id]: {\r\n//                                     ...prev[change.id],\r\n//                                     question: \"\",\r\n//                                     answer: \"\",\r\n//                                     error: null,\r\n//                                   },\r\n//                                 }))\r\n//                               }\r\n//                               className=\"px-4 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-slate-900 font-semibold\"\r\n//                             >\r\n//                               ล้าง\r\n//                             </button>\r\n//                           </div>\r\n\r\n//                           <div className=\"mt-4\">\r\n//                             <div className=\"text-sm font-bold text-slate-900 mb-2\">\r\n//                               คำตอบ\r\n//                             </div>\r\n//                             <div className=\"rounded-lg border border-slate-200 bg-slate-50 p-3\">\r\n//                               <p className=\"text-sm whitespace-pre-wrap text-slate-900 font-semibold\">\r\n//                                 {chat.answer || \"ยังไม่มีคำตอบ\"}\r\n//                               </p>\r\n//                             </div>\r\n//                           </div>\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n\r\n//                     {/* Quick copy all */}\r\n//                     <div className=\"mt-4 flex flex-wrap gap-2\">\r\n//                       <CopyButton\r\n//                         text={[\r\n//                           `SECTION: ${change.section_label || \"-\"}`,\r\n//                           `TYPE: ${change.change_type}`,\r\n//                           `RISK: ${change.risk_level || \"LOW\"}`,\r\n//                           \"\",\r\n//                           \"OLD:\",\r\n//                           oldText || \"-\",\r\n//                           \"\",\r\n//                           \"NEW:\",\r\n//                           newText || \"-\",\r\n//                           \"\",\r\n//                           \"AI COMMENT:\",\r\n//                           aiComment || \"-\",\r\n//                           \"\",\r\n//                           \"AI SUGGESTION:\",\r\n//                           aiSuggest || \"-\",\r\n//                         ].join(\"\\n\")}\r\n//                         label=\"Copy ทั้งก้อน\"\r\n//                         onCopied={(ok) =>\r\n//                           setToast(ok ? \"คัดลอกทั้งก้อนแล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n//                         }\r\n//                         className=\"text-slate-900\"\r\n//                       />\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//               );\r\n//             })}\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// \"use client\";\r\n\r\n// import { useParams } from \"next/navigation\";\r\n// import { useEffect, useMemo, useState } from \"react\";\r\n\r\n// /* ================= TYPES ================= */\r\n\r\n// type ChangeType = \"ADDED\" | \"REMOVED\" | \"MODIFIED\";\r\n// type RiskLevel = \"LOW\" | \"MEDIUM\" | \"HIGH\";\r\n\r\n// type ChangeItem = {\r\n//   id: number;\r\n//   change_type: ChangeType;\r\n//   section_label: string | null;\r\n//   old_text: string | null;\r\n//   new_text: string | null;\r\n//   risk_level?: RiskLevel | null;\r\n// };\r\n\r\n// type ComparisonDetail = {\r\n//   id: number;\r\n//   document_name: string;\r\n//   version_old_label: string;\r\n//   version_new_label: string;\r\n//   created_at: string;\r\n//   changes: ChangeItem[];\r\n// };\r\n\r\n// const API_BASE =\r\n//   process.env.NEXT_PUBLIC_API_BASE?.trim() || \"http://127.0.0.1:8000\";\r\n\r\n// /* ================= DIFF HELPERS ================= */\r\n\r\n// function splitWords(text: string) {\r\n//   return text.split(/(\\s+)/);\r\n// }\r\n\r\n// function diffWords(oldText: string, newText: string) {\r\n//   const oldWords = splitWords(oldText);\r\n//   const newWords = splitWords(newText);\r\n\r\n//   const oldSet = new Set(oldWords);\r\n//   const newSet = new Set(newWords);\r\n\r\n//   return {\r\n//     old: oldWords.map((w) => ({\r\n//       text: w,\r\n//       removed: !newSet.has(w),\r\n//     })),\r\n//     new: newWords.map((w) => ({\r\n//       text: w,\r\n//       added: !oldSet.has(w),\r\n//     })),\r\n//   };\r\n// }\r\n\r\n// function OldDiff({ oldText, newText }: { oldText: string; newText: string }) {\r\n//   const diff = diffWords(oldText, newText);\r\n\r\n//   return (\r\n//     <div style={{ textDecoration: \"line-through\", whiteSpace: \"pre-wrap\" }}>\r\n//       {diff.old.map((w, i) => (\r\n//         <span\r\n//           key={i}\r\n//           style={\r\n//             w.removed\r\n//               ? { backgroundColor: \"#fee2e2\" } // red-100\r\n//               : undefined\r\n//           }\r\n//         >\r\n//           {w.text}\r\n//         </span>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// function NewDiff({ oldText, newText }: { oldText: string; newText: string }) {\r\n//   const diff = diffWords(oldText, newText);\r\n\r\n//   return (\r\n//     <div style={{ whiteSpace: \"pre-wrap\" }}>\r\n//       {diff.new.map((w, i) => (\r\n//         <span\r\n//           key={i}\r\n//           style={\r\n//             w.added\r\n//               ? { backgroundColor: \"#dcfce7\" } // green-100\r\n//               : undefined\r\n//           }\r\n//         >\r\n//           {w.text}\r\n//         </span>\r\n//       ))}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// /* ================= PAGE ================= */\r\n\r\n// export default function CompareReportPage() {\r\n//   const { id } = useParams<{ id: string }>();\r\n//   const [detail, setDetail] = useState<ComparisonDetail | null>(null);\r\n//   const [loading, setLoading] = useState(true);\r\n\r\n//   useEffect(() => {\r\n//     if (!id) return;\r\n//     fetch(`${API_BASE}/comparisons/${id}`, { cache: \"no-store\" })\r\n//       .then((r) => r.json())\r\n//       .then(setDetail)\r\n//       .finally(() => setLoading(false));\r\n//   }, [id]);\r\n\r\n//   const summary = useMemo(() => {\r\n//     if (!detail) return null;\r\n//     return {\r\n//       HIGH: detail.changes.filter((c) => c.risk_level === \"HIGH\").length,\r\n//       MEDIUM: detail.changes.filter((c) => c.risk_level === \"MEDIUM\").length,\r\n//       LOW: detail.changes.filter((c) => c.risk_level === \"LOW\").length,\r\n//     };\r\n//   }, [detail]);\r\n\r\n//   if (loading) return <div style={{ padding: 24 }}>กำลังโหลด...</div>;\r\n//   if (!detail) return <div style={{ padding: 24 }}>ไม่พบข้อมูล</div>;\r\n\r\n//   return (\r\n//     <div style={{ padding: 24, fontFamily: \"Tahoma, Arial, sans-serif\" }}>\r\n//       {/* ===== Summary ===== */}\r\n//       <pre style={{ marginBottom: 16 }}>\r\n// {`- HIGH (สูง): ${summary?.HIGH}\r\n// - MEDIUM (ปานกลาง): ${summary?.MEDIUM}\r\n// - LOW (ต่ำ): ${summary?.LOW}`}\r\n//       </pre>\r\n\r\n//       <h2 style={{ marginBottom: 8 }}>รายละเอียดการเปลี่ยนแปลง</h2>\r\n\r\n//       <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 13 }}>\r\n//         <thead>\r\n//           <tr>\r\n//             {[\"Type\", \"Risk\", \"Section\", \"Old Text\", \"New Text\"].map((h) => (\r\n//               <th\r\n//                 key={h}\r\n//                 style={{\r\n//                   border: \"1px solid #ccc\",\r\n//                   background: \"#f2f2f2\",\r\n//                   padding: \"6px 8px\",\r\n//                   textAlign: \"left\",\r\n//                 }}\r\n//               >\r\n//                 {h}\r\n//               </th>\r\n//             ))}\r\n//           </tr>\r\n//         </thead>\r\n\r\n//         <tbody>\r\n//           {detail.changes.map((c) => (\r\n//             <tr key={c.id} style={{ verticalAlign: \"top\" }}>\r\n//               <td style={cell}>{c.change_type}</td>\r\n//               <td style={cell}>{c.risk_level}</td>\r\n//               <td style={cell}>{c.section_label}</td>\r\n\r\n//               <td style={{ ...cell, background: \"#fffbe6\" }}>\r\n//                 <OldDiff\r\n//                   oldText={c.old_text || \"\"}\r\n//                   newText={c.new_text || \"\"}\r\n//                 />\r\n//               </td>\r\n\r\n//               <td style={{ ...cell, background: \"#fffbe6\" }}>\r\n//                 <NewDiff\r\n//                   oldText={c.old_text || \"\"}\r\n//                   newText={c.new_text || \"\"}\r\n//                 />\r\n//               </td>\r\n//             </tr>\r\n//           ))}\r\n//         </tbody>\r\n//       </table>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const cell: React.CSSProperties = {\r\n//   border: \"1px solid #ccc\",\r\n//   padding: \"6px 8px\",\r\n// };\r\n"],"names":[],"mappings":"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"}}]
}